(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-698cae5e"],{"071b":function(e,t,r){"use strict";r("6af6")},3030:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"softwareContainer"},[r("pageHeader",{attrs:{title:e.$t("software.pageTitle"),describe:e.$t("software.pageDesc")}}),r("div",{staticClass:"new-create",staticStyle:{"margin-left":"1rem"}},[r("el-button",{staticClass:"create-button",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.openDialog(1)}}},[r("i",{staticClass:"el-icon-plus"}),e._v(e._s(e.$t("software.add")))]),r("el-upload",{ref:"uploadRef",attrs:{action:e.base_api+"/info_screen/software/excel/handler",multiple:"",limit:1,"on-success":e.handleSuccess,headers:e.headers,"before-upload":e.beforeUpload,"show-file-list":!1}},[r("el-button",{attrs:{size:"mini",type:"primary"}},[r("i",{staticClass:"el-icon-upload2"}),e._v(e._s(e.$t("software.batchAdd")))])],1),r("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"warning",size:"mini"},on:{click:function(t){e.visible1=!0}}},[e._v(" view ")]),r("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"mini"}},[r("i",{staticClass:"el-icon-download"}),r("a",{staticStyle:{margin:"0.3rem 0.5rem 0.3rem 0",color:"#fff"},attrs:{href:e.base_api+"/template/Software_Firmware_Stage.xlsx"}},[e._v(e._s(e.$t("excelTemplate.downloadTemplate")))])])],1),r("el-dialog",{attrs:{title:e.$t("software.excelDialogTitle"),visible:e.visible},on:{close:function(t){e.visible=!1}}},[r("SoftwareTable",{attrs:{data:e.excelData},on:{fatherMethod:e.closeSoftwareTable}})],1),r("el-dialog",{attrs:{title:e.$t("software.addDialogTitle"),visible:e.addFormVisible},on:{close:function(t){e.addFormVisible=!1}}},[r("AddForm",{on:{fatherMethod:e.closeAddForm}})],1),r("el-dialog",{attrs:{title:e.$t("software.updateDialogTitle"),visible:e.updateFormVisible},on:{close:function(t){e.updateFormVisible=!1}}},[r("UpdateForm",{attrs:{form:e.updateForm},on:{fatherMethod:e.closeUpdateForm}})],1),r("el-table",{staticClass:"table-content",staticStyle:{margin:"0 auto"},attrs:{data:e.softwares,border:!0,stripe:""}},[r("el-table-column",{attrs:{prop:"product",label:"Product",align:"center"}}),r("el-table-column",{attrs:{prop:"version",label:"Version",align:"center"}}),r("el-table-column",{attrs:{prop:"prc",label:"PRC",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.prc?r("span",[e._v("/")]):r("span",[e._v(e._s(t.row.prc))])]}}])}),r("el-table-column",{attrs:{prop:"uk",label:"UK",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.uk?r("span",[e._v("/")]):r("span",[e._v(e._s(t.row.uk))])]}}])}),r("el-table-column",{attrs:{prop:"launch",label:"Launch",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.launch?r("span",[e._v("/")]):r("span",[e._v(e._s(t.row.launch))])]}}])}),r("el-table-column",{attrs:{prop:"remark",label:"Remark",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.remark?r("span",[e._v("/")]):r("span",[e._v(e._s(t.row.remark))])]}}])}),r("el-table-column",{attrs:{label:"operation",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{display:"flex","justify-content":"center",cursor:"pointer"}},[r("div",{staticStyle:{color:"#409eff"},on:{click:function(r){return e.update(t.row)}}},[r("span",[e._v(e._s(e.$t("software.update")))])]),r("div",{staticStyle:{color:"#409eff","margin-left":"10px"},on:{click:function(r){return e.deleteSoftware(t.row.id)}}},[r("span",[e._v(e._s(e.$t("software.delete")))])])])]}}])})],1),r("el-dialog",{attrs:{title:"Software/Firmware Stage",visible:e.visible1,width:"55%"},on:{"update:visible":function(t){e.visible1=t}}},[r("SoftwareStage",{attrs:{SoftwareStages:e.softwares}})],1)],1)},o=[],l=r("e965"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"softwareTable"},[r("el-table",{staticClass:"table-content",staticStyle:{margin:"0 auto"},attrs:{data:e.softwares,border:!0,stripe:""}},[r("el-table-column",{attrs:{prop:"product",label:"product",align:"center"}}),r("el-table-column",{attrs:{prop:"version",label:"Version",align:"center"}}),r("el-table-column",{attrs:{prop:"prc",label:"PRC",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.prc?r("span",[e._v("/")]):r("span",[e._v(e._s(t.row.prc))])]}}])}),r("el-table-column",{attrs:{prop:"uk",label:"UK",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.prc?r("span",[e._v("/")]):r("span",[e._v(e._s(t.row.prc))])]}}])}),r("el-table-column",{attrs:{prop:"launch",label:"Launch",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.launch?r("span",[e._v("/")]):r("span",[e._v(e._s(t.row.launch))])]}}])}),r("el-table-column",{attrs:{prop:"remark",label:"Remark",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.remark?r("span",[e._v("/")]):r("span",[e._v(e._s(t.row.remark))])]}}])})],1),r("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v(" confirm ")]),r("el-button",{attrs:{type:"warning"},on:{click:e.cancle}},[e._v(" cancel ")])],1)],1)},n=[],i=r("751a"),c=r("4360");function d(){return Object(i["a"])({url:"/info_screen/software/list",method:"get",headers:{token:c["a"].getters.token}})}function u(e){return Object(i["a"])({url:"/info_screen/software/add",method:"post",data:e,headers:{token:c["a"].getters.token}})}function p(e){return Object(i["a"])({url:"/info_screen/software/batchAdd",method:"post",data:e,headers:{token:c["a"].getters.token}})}function f(e){return Object(i["a"])({url:"/info_screen/software/delete/"+e,method:"delete",headers:{token:c["a"].getters.token}})}function m(e){return Object(i["a"])({url:"/info_screen/software/update",method:"put",data:e,headers:{token:c["a"].getters.token}})}var h={components:{},name:"softwareTable",props:{data:{type:String,required:!0,default:function(){return[]}}},data(){return{softwares:this.data}},computed:{},watch:{},methods:{async confirm(){const{data:e}=await p(this.softwares);200==e.code?(this.$message({type:"success",message:"batchAdd successfully!"}),this.softwares={},this.$emit("fatherMethod")):this.$message({type:"warning",message:e.msg})},cancle(){this.$emit("fatherMethod")}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},b=h,g=(r("59f0"),r("2877")),w=Object(g["a"])(b,s,n,!1,null,"a484380c",null),y=w.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addForm"},[r("el-form",{attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"product:"}},[r("el-input",{attrs:{type:"text",placeholder:e.$t("software.productPlaceholder")},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}})],1),r("el-form-item",{attrs:{label:"version:"}},[r("el-input",{attrs:{type:"text",placeholder:e.$t("software.versionPlaceholder")},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),r("el-form-item",{attrs:{label:"prc:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:e.$t("software.prcPlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.prc,callback:function(t){e.$set(e.form,"prc",t)},expression:"form.prc"}})],1),r("el-form-item",{attrs:{label:"uk:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:e.$t("software.ukPlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.uk,callback:function(t){e.$set(e.form,"uk",t)},expression:"form.uk"}})],1),r("el-form-item",{attrs:{label:"launch:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:e.$t("software.launchPlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.launch,callback:function(t){e.$set(e.form,"launch",t)},expression:"form.launch"}})],1),r("el-form-item",{attrs:{label:"remark:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:e.$t("software.remarkPlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v(e._s(e.$t("software.comfirm")))])],1)],1)],1)},v=[],x={components:{},name:"addForm",data(){return{form:{}}},computed:{},watch:{},methods:{async submit(){console.log(this.form);const{data:e}=await u(this.form);200==e.code?(this.$message({type:"success",message:"add successfully!"}),this.form={},this.$emit("fatherMethod")):this.$message({type:"warning",message:e.msg})}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},_=x,S=(r("d024"),Object(g["a"])(_,k,v,!1,null,"0d8d172a",null)),$=S.exports,M=r("fcc9"),C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"updateForm"},[r("el-form",{attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"product:"}},[r("el-input",{attrs:{type:"text",placeholder:e.$t("software.productPlaceholder")},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}})],1),r("el-form-item",{attrs:{label:"version:"}},[r("el-input",{attrs:{type:"text",placeholder:e.$t("software.versionPlaceholder")},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),r("el-form-item",{attrs:{label:"prc:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:e.$t("software.prcPlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.prc,callback:function(t){e.$set(e.form,"prc",t)},expression:"form.prc"}})],1),r("el-form-item",{attrs:{label:"uk:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:e.$t("software.ukPlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.uk,callback:function(t){e.$set(e.form,"uk",t)},expression:"form.uk"}})],1),r("el-form-item",{attrs:{label:"launch:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:e.$t("software.launchPlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.launch,callback:function(t){e.$set(e.form,"launch",t)},expression:"form.launch"}})],1),r("el-form-item",{attrs:{label:"remark:"}},[r("el-date-picker",{attrs:{type:"date",placeholder:e.$t("software.remarkPlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v(e._s(e.$t("software.confirm")))])],1)],1)],1)},F=[],T={components:{},name:"updateForm",props:{form:{type:Object,default:function(){return{}}}},data(){return{updateForm:this.form}},computed:{},watch:{form(){this.updateForm=this.form}},methods:{async submit(){console.log(this.updateForm);const{data:e}=await m(this.updateForm);200==e.code?(this.$message({type:"success",message:"update successfully!"}),this.updateForm={},this.$emit("fatherMethod")):this.$message({type:"warning",message:e.msg})}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},D=T,J=(r("e898"),Object(g["a"])(D,C,F,!1,null,"5df3b32d",null)),H=J.exports,z={components:{SoftwareTable:y,AddForm:$,UpdateForm:H,SoftwareStage:M["a"],pageHeader:l["a"]},name:"software-index",data(){return{base_api:"https://api.board.ifi-cloud.com",headers:{token:c["a"].getters.token},excelData:[],visible:!1,title:"",addFormVisible:!1,updateFormVisible:!1,updateForm:{},softwares:[],visible1:!1}},computed:{},watch:{},methods:{handleSuccess(e){console.log(e.data),200==e.code?(this.excelData=e.data,this.visible=!0,this.title="Software Excel Data"):this.$message({type:"warning",message:e.msg})},beforeUpload(e){const t=e.name,r="Software_Firmware_Stage.xlsx";if(t!==r)return this.$confirm("请上传Software_Firmware_Stage.xlsx",this.$t("eol.tips"),{confirmButtonText:this.$t("eol.confirm"),cancelButtonText:this.$t("eol.cancel"),type:"warning"}),!1},openDialog(e){1==e&&(this.title="填写新增表单",this.addFormVisible=!0),2==e&&(this.title="修改数据",this.updateFormVisible=!0)},async getSoftwares(){const{data:e}=await d();console.log(e),200==e.code?this.softwares=e.data:this.$message({type:"warning",message:e.msg})},deleteSoftware(e){this.$confirm(this.$t("software.deleteTips"),this.$t("software.tips"),{confirmButtonText:this.$t("software.confirm"),cancelButtonText:this.$t("software.cancel"),type:"warning"}).then(async()=>{const{data:t}=await f(e);200==t.code?(this.$message({type:"success",message:"delete successfully!"}),this.getSoftwares()):this.$message({type:"warning",message:t.msg})}).catch(e=>{this.$message({type:"info",message:this.$t("clock.cancelTooltip")})})},closeSoftwareTable(){this.$refs.uploadRef.clearFiles(),this.getSoftwares(),this.visible=!1},closeUpdateForm(){this.getSoftwares(),this.updateFormVisible=!1},closeAddForm(){this.getSoftwares(),this.addFormVisible=!1},update(e){this.updateForm=e,this.openDialog(2)}},created(){},mounted(){this.getSoftwares()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},P=z,U=(r("e5d8"),Object(g["a"])(P,a,o,!1,null,"316a8695",null));t["default"]=U.exports},"3e54":function(e,t,r){"use strict";r("9cc8")},"59f0":function(e,t,r){"use strict";r("c9f7")},"6af6":function(e,t,r){},"9cc8":function(e,t,r){},ad0f:function(e,t,r){},c9f7:function(e,t,r){},d024:function(e,t,r){"use strict";r("ad0f")},dc41:function(e,t,r){},e215:function(e,t,r){},e5d8:function(e,t,r){"use strict";r("e215")},e898:function(e,t,r){"use strict";r("dc41")},e965:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container",staticStyle:{background:"#fff",height:"100px",padding:"10px 0"}},[r("div",{staticClass:"title",staticStyle:{"font-size":"30px",padding:"10px"}},[e._v(e._s(e.title))]),r("div",{staticClass:"content",staticStyle:{"font-size":"15px",padding:"10px",color:"#888"}},[e._v(e._s(e.describe)+" ")])])},o=[],l={components:{},name:"pageHeader",props:{title:{type:String,default:null},describe:{type:String,default:null}},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},s=l,n=(r("3e54"),r("2877")),i=Object(n["a"])(s,a,o,!1,null,"32773f74",null);t["a"]=i.exports},fcc9:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"SoftwareStage"},[r("div",{staticClass:"ticket-box",style:"height:"+e.height,attrs:{id:"ticket-box"}},[r("div",{staticClass:"ticket-title",attrs:{id:"ticket-title"}},[e._v("Software/Firmware")]),r("el-table",{ref:"stage",staticClass:"table-style",attrs:{data:e.SoftwareStages,height:"600px",size:"mini","cell-style":e.cellStyle,"header-cell-style":e.headerCellStyle,"header-row-style":e.headerRowStyle}},[r("el-table-column",{attrs:{align:"center",label:"product",prop:"product"}}),r("el-table-column",{attrs:{align:"center",label:"Version",prop:"version"}}),r("el-table-column",{attrs:{align:"center",label:"PRC",prop:"prc",formatter:e.formatTime,width:"160px"}}),r("el-table-column",{attrs:{align:"center",label:"UK",prop:"uk",formatter:e.formatTime,width:"160px"}}),r("el-table-column",{attrs:{align:"center",label:"Launch",prop:"launch",formatter:e.formatTime,width:"160px"}}),r("el-table-column",{attrs:{align:"center",label:"Remark",prop:"remark",formatter:e.formatTime,width:"160px"}})],1)],1)])},o=[],l={components:{},name:"SoftwareStage",props:{height:{type:String,default:"320px"},SoftwareStages:{type:Array,default:function(){return[]}}},data(){return{data:[{product:"product1",ud:"11-Mar-23",prc:"29-Mar-23",uk:"11-Jun-23",lau:"11-Jun-23",rem:"11-Jun-23"},{product:"product2",ud:"11-Mar-23",prc:"29-Mar-23",uk:"11-Jun-23",lau:"11-Jun-23",rem:"11-Jun-23"},{product:"product3",ud:"11-Mar-23",prc:"29-Mar-23",uk:"11-Jun-23",lau:"11-Jun-23",rem:"11-Jun-23"},{product:"product4",ud:"11-Mar-23",prc:"29-Mar-23",uk:"11-Jun-23",lau:"11-Jun-23",rem:"11-Jun-23"},{product:"product5",ud:"11-Mar-23",prc:"29-Mar-23",uk:"11-Jun-23",lau:"11-Jun-23",rem:"11-Jun-23"},{product:"product6",ud:"11-Mar-23",prc:"29-Mar-23",uk:"11-Jun-23",lau:"11-Jun-23",rem:"11-Jun-23"},{product:"product6",ud:"11-Mar-23",prc:"29-Mar-23",uk:"11-Jun-23",lau:"11-Jun-23",rem:"11-Jun-23"}],ticketTableCellHeight:""}},computed:{},watch:{},methods:{cellStyle({rowIndex:e,columnIndex:t}){const r=this.height.split("p",2);return this.ticketTableCellHeight=Math.ceil(Number(r[0])/7),e%2==0&&0==t?"font-size: 1rem;background: #15184d; border: none; border-right: 1px solid #252963; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":e%2==0&&2==t?"font-size: 1rem; background: #15184d; border: none; border-right: 1px solid #dddddd88; padding: 0;font-weight: 800;height: "+this.ticketTableCellHeight+"px":e%2==0&&4==t?"font-size: 1rem; background: #15184d; border: none; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":e%2==0?"font-size: 1rem; background: #15184d; border: none; border-right: 1px solid #252963; padding: 0;font-weight: 800;height: "+this.ticketTableCellHeight+"px":e%2==1&&0==t?"font-size: 1rem;background: #252963; border: none; border-right: 1px solid #171717; padding: 0;font-weight: 800;height: "+this.ticketTableCellHeight+"px":e%2==1&&2==t?"font-size: 1rem; background: #252963; border: none; border-right: 1px solid #171717; padding: 0;font-weight: 800;height: "+this.ticketTableCellHeight+"px":e%2==1&&4==t?"font-size: 1rem; background: #252963; border: none; padding: 0;font-weight: 800;height: "+this.ticketTableCellHeight+"px":"font-size: 1rem; background: #252963; border: none; border-right: 1px solid #15184d; padding: 0;font-weight: 800;height: "+this.ticketTableCellHeight+"px"},headerCellStyle({columnIndex:e}){return 2==e?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; border-right: 1px solid #555; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":4==e?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; border-right: 1px solid #333; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;"},headerRowStyle(){return"height: 2.5rem;"},tableScroll(e,t){const r=e.bodyWrapper;setInterval(()=>{r.scrollHeight-r.clientHeight>10&&r.clientHeight+r.scrollTop<r.scrollHeight-1&&(r.scrollTop+=1,r.clientHeight+r.scrollTop>=r.scrollHeight-1&&setTimeout(()=>{r.scrollTop=0},3e3))},t)},formatTime(e,t){const r=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."];if("Version"===t.label){if(null==e.version)return"/";const t=new Date(e.version),a=t.getDate().toString(),o=t.getMonth(),l=t.getFullYear()-2e3;return a+"-"+r[o]+"-"+l}if("PRC"===t.label){if(null==e.prc)return"/";const t=new Date(e.prc),a=t.getDate().toString(),o=t.getMonth(),l=t.getFullYear()-2e3;return a+"-"+r[o]+"-"+l}if("UK"===t.label){if(null==e.uk)return"/";const t=new Date(e.uk),a=t.getDate().toString(),o=t.getMonth(),l=t.getFullYear()-2e3;return a+"-"+r[o]+"-"+l}if("Launch"===t.label){if(null==e.launch)return"/";const t=new Date(e.launch),a=t.getDate().toString(),o=t.getMonth(),l=t.getFullYear()-2e3;return a+"-"+r[o]+"-"+l}if("Remark"===t.label){if(null==e.remark)return"/";const t=new Date(e.remark),a=t.getDate().toString(),o=t.getMonth(),l=t.getFullYear()-2e3;return a+"-"+r[o]+"-"+l}return"format"}},created(){},mounted(){const e=this.$refs.stage;this.tableScroll(e,50)},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},s=l,n=(r("071b"),r("2877")),i=Object(n["a"])(s,a,o,!1,null,"896cc224",null);t["a"]=i.exports}}]);