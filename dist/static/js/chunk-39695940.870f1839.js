(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39695940"],{"3e54":function(e,t,r){"use strict";r("9cc8")},"517a":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-container"},[r("pageHeader",{attrs:{title:e.$t("resource.pageTitle"),describe:e.$t("resource.pageDesc")}}),r("el-form",{staticClass:"form-box",staticStyle:{display:"flex",width:"calc(100% - 1rem)","margin-left":"1rem"},attrs:{inline:!0,size:"mini"}},[r("el-form-item",{attrs:{label:e.$t("resource.category")}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{placeholder:"请输入内容","fetch-suggestions":e.querySearch},model:{value:e.queryCondition.category,callback:function(t){e.$set(e.queryCondition,"category",t)},expression:"queryCondition.category"}})],1),r("el-form-item",{attrs:{label:e.$t("resource.name")}},[r("el-input",{attrs:{clearable:"",placeholder:"name"},model:{value:e.queryCondition.name,callback:function(t){e.$set(e.queryCondition,"name",t)},expression:"queryCondition.name"}})],1),r("el-form-item",{attrs:{label:e.$t("resource.url")}},[r("el-input",{attrs:{clearable:"",placeholder:"url"},model:{value:e.queryCondition.url,callback:function(t){e.$set(e.queryCondition,"url",t)},expression:"queryCondition.url"}})],1),r("el-form-item",{staticStyle:{"margin-right":"10px"}},[r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.getResourceList}},[e._v(e._s(e.$t("resource.query")))])],1)],1),r("div",{staticClass:"new-create",staticStyle:{margin:"1rem 0 0 1rem"}},[r("el-button",{staticClass:"create-button",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.openDialog(1)}}},[r("i",{staticClass:"el-icon-plus"}),e._v(e._s(e.$t("resource.addCategory")))]),r("el-button",{staticClass:"create-button",staticStyle:{"margin-left":"0"},attrs:{type:"success",size:"mini"},on:{click:function(t){return e.openDialog(2)}}},[r("i",{staticClass:"el-icon-plus"}),e._v(e._s(e.$t("resource.addResource")))]),r("el-button",{staticClass:"create-button",staticStyle:{"margin-left":"0"},attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.getResourceCategory()}}},[r("i",{staticClass:"el-icon-view"}),e._v(e._s(e.$t("resource.seeCategory")))])],1),r("el-table",{attrs:{data:e.records,stripe:"",border:""}},[r("el-table-column",{attrs:{align:"center",label:e.$t("resource.index"),type:"index",width:"60"}}),r("el-table-column",{attrs:{prop:"categoryName",label:e.$t("resource.category"),align:"center",width:"180"}}),r("el-table-column",{attrs:{prop:"name",label:e.$t("resource.name"),align:"center",width:"180"}}),r("el-table-column",{attrs:{prop:"url",label:e.$t("resource.url"),align:"center"}}),r("el-table-column",{attrs:{prop:"description",label:e.$t("resource.description"),align:"center",width:"180"}}),r("el-table-column",{attrs:{prop:"gmtCreate",label:e.$t("resource.createAt"),align:"center",width:"250"}}),r("el-table-column",{attrs:{prop:"gmtModified",label:e.$t("resource.updateAt"),align:"center",width:"250"}}),r("el-table-column",{attrs:{label:e.$t("resource.operation"),align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{display:"flex","justify-content":"center",cursor:"pointer"}},[r("div",{staticStyle:{color:"#409eff"},on:{click:function(r){return e.update(t.row)}}},[r("span",[e._v(e._s(e.$t("resource.update")))])]),r("div",{staticStyle:{color:"#409eff","margin-left":"10px"},on:{click:function(r){return e.deleteResourceById(t.row.id)}}},[r("span",[e._v(e._s(e.$t("resource.delete")))])])])]}}])})],1),r("el-dialog",{attrs:{title:e.dialog1.title,visible:e.dialog1.visible,width:"35%"},on:{"update:visible":function(t){return e.$set(e.dialog1,"visible",t)}}},[r("el-form",{attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:e.$t("resource.category")}},[r("el-input",{attrs:{placeholder:"请输入category"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addCategory}},[e._v(e._s(e.$t("resource.confirm")))])],1)],1)],1),r("el-dialog",{attrs:{title:e.dialog2.title,visible:e.dialog2.visible,width:"35%"},on:{"update:visible":function(t){return e.$set(e.dialog2,"visible",t)}}},[r("el-form",{attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:e.$t("resource.category")}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{placeholder:"请输入内容","fetch-suggestions":e.querySearch},on:{select:e.handleSelect},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1),r("el-form-item",{attrs:{label:e.$t("resource.name")}},[r("el-input",{attrs:{placeholder:"name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:e.$t("resource.url")}},[r("el-input",{attrs:{placeholder:"请输入url"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),r("el-form-item",{attrs:{label:e.$t("resource.description")}},[r("el-input",{staticClass:"inline-input",attrs:{placeholder:"请输入description"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addResource}},[e._v(e._s(e.$t("resource.confirm")))])],1)],1)],1),r("el-dialog",{attrs:{title:e.dialog4.title,visible:e.dialog4.visible,width:"35%"},on:{"update:visible":function(t){return e.$set(e.dialog4,"visible",t)}}},[r("el-form",{attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:e.$t("resource.category")}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{placeholder:"请输入内容","fetch-suggestions":e.querySearch},on:{select:e.handleSelect},model:{value:e.form.categoryName,callback:function(t){e.$set(e.form,"categoryName",t)},expression:"form.categoryName"}})],1),r("el-form-item",{attrs:{label:e.$t("resource.name")}},[r("el-input",{attrs:{placeholder:"name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:e.$t("resource.url")}},[r("el-input",{attrs:{placeholder:"请输入url"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),r("el-form-item",{attrs:{label:e.$t("resource.description")}},[r("el-input",{staticClass:"inline-input",attrs:{placeholder:"请输入description"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updateResource}},[e._v(e._s(e.$t("resource.confirm")))])],1)],1)],1),r("el-dialog",{attrs:{title:e.dialog3.title,visible:e.dialog3.visible,width:"35%"},on:{"update:visible":function(t){return e.$set(e.dialog3,"visible",t)}}},[r("el-form",{attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:e.$t("resource.category")}},[r("el-input",{attrs:{placeholder:"请输入category"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitUpdateForm}},[e._v(e._s(e.$t("resource.confirm")))])],1)],1)],1),r("el-drawer",{attrs:{title:e.drawer.title,visible:e.drawer.visible,direction:"rtl",size:"20%"},on:{"update:visible":function(t){return e.$set(e.drawer,"visible",t)}}},[r("el-table",{attrs:{data:e.categories,stripe:"",border:""}},[r("el-table-column",{attrs:{align:"center",label:"ID",type:"index",width:"60"}}),r("el-table-column",{attrs:{prop:"name",label:e.$t("resource.category"),align:"center",width:"180"}}),r("el-table-column",{attrs:{label:e.$t("resource.operation"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-link",{staticStyle:{padding:"0 20px"},attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.updateCategory(t.row)}}},[e._v(e._s(e.$t("resource.update")))]),r("el-link",{staticStyle:{padding:"0 20px"},attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.deleteCategory(t.row.id)}}},[e._v(e._s(e.$t("resource.delete")))])]}}])})],1)],1)],1)},o=[],a=r("e965"),i=r("8593"),n={components:{pageHeader:a["a"]},data(){return{records:[],queryCondition:{category:"",name:"",url:""},dialog1:{title:"",visible:!1},dialog2:{title:"",visible:!1},dialog3:{title:"",visible:!1},dialog4:{title:"",visible:!1},form:{},categories:[],drawer:{title:"资源分类列表",visible:!1},searchList:[]}},created(){this.getResourceList(),this.getSearchList()},methods:{async getResourceList(){console.log(this.queryCondition);const{data:e}=await Object(i["i"])(this.queryCondition);this.records=e.data,console.log(e)},openDialog(e){1==e&&(this.dialog1.title="新增资源分类",this.dialog1.visible=!0),2==e&&(this.dialog2.title="新增资源",this.dialog2.visible=!0),3==e&&(this.dialog3.title="资源分类更新",this.dialog3.visible=!0),4==e&&(this.dialog4.title="更新资源",this.dialog4.visible=!0)},async addCategory(){const{data:e}=await Object(i["b"])(this.form);200==e.code?(this.$message({type:"success",message:"add category successfully."}),this.form={},this.dialog1.visible=!1):this.$message({type:"warning",message:e.msg})},async getResourceCategory(){console.log("查看分类"),this.drawer.visible=!0;const{data:e}=await Object(i["h"])();200==e.code?this.categories=e.data:this.$message({type:"warning",message:e.msg})},async addResource(){console.log(this.form);const{data:e}=await Object(i["a"])(this.form);200==e.code?(this.$message({type:"success",message:"add resource successfully."}),this.form={},this.dialog2.visible=!1,this.getResourceList()):this.$message({type:"warn",message:"add resource fail."})},deleteCategory(e){this.$confirm(this.$t("resource.deleteTips"),this.$t("resource.tips"),{confirmButtonText:this.$t("resource.confirm"),cancelButtonText:this.$t("resource.cancel"),type:"warning"}).then(async()=>{const{data:t}=await Object(i["e"])(e);if(200==t.code){this.$message({type:"success",message:"delete category successfully."});const{data:e}=await Object(i["h"])();200==e.code&&(this.categories=e.data),this.getSearchList()}else this.$message({type:"warning",message:t.msg})}).catch(e=>{console.log(e)})},updateCategory(e){this.form=e,this.openDialog(3)},async submitUpdateForm(){const{data:e}=await Object(i["p"])(this.form);200==e.code?(this.$message({type:"success",message:"update category successfully."}),this.form={},this.dialog3.visible=!1,this.getResourceList(),this.getSearchList(),this.getResourceCategories()):(this.$message({type:"warning",message:"update category fail."}),this.getResourceCategories(),this.form={},this.dialog3.visible=!1)},querySearch(e,t){console.log(e),t(this.searchList)},async getSearchList(){const{data:e}=await Object(i["n"])();console.log(e),200==e.code?this.searchList=e.data:this.$message({type:"warning",message:e.msg})},handleSelect(e){console.log(e),this.form.categoryId=e.categoryId},deleteResourceById(e){this.$confirm(this.$t("resource.deleteTips"),this.$t("resource.tips"),{confirmButtonText:this.$t("resource.confirm"),cancelButtonText:this.$t("resource.cancel"),type:"warning"}).then(async()=>{const{data:t}=await Object(i["d"])(e);200==t.code?(this.$message({type:"success",message:"delete resource successfully."}),this.getResourceList()):this.$message({type:"warning",message:t.msg})}).catch(e=>{this.$message({type:"info",message:this.$t("clock.cancelTooltip")})})},update(e){this.form=e,this.openDialog(4)},async updateResource(){const{data:e}=await Object(i["o"])(this.form);200==e.code?(this.form={},this.dialog4.visible=!1,this.getResourceList(),this.$message({type:"success",message:"update resource successfully."})):this.$message({type:"error",message:"update resource error."})}}},l=n,c=(r("e105"),r("2877")),u=Object(c["a"])(l,s,o,!1,null,"d3522070",null);t["default"]=u.exports},8593:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"f",(function(){return i})),r.d(t,"m",(function(){return n})),r.d(t,"r",(function(){return l})),r.d(t,"l",(function(){return c})),r.d(t,"q",(function(){return u})),r.d(t,"k",(function(){return d})),r.d(t,"g",(function(){return m})),r.d(t,"i",(function(){return f})),r.d(t,"j",(function(){return g})),r.d(t,"d",(function(){return p})),r.d(t,"o",(function(){return h})),r.d(t,"b",(function(){return b})),r.d(t,"e",(function(){return y})),r.d(t,"p",(function(){return $})),r.d(t,"h",(function(){return v})),r.d(t,"a",(function(){return k})),r.d(t,"n",(function(){return w}));var s=r("751a"),o=r("4360");function a(e){return Object(s["a"])({url:"/info_screen/user/assignRole",method:"post",data:e,headers:{token:o["a"].getters.token}})}function i(e){return Object(s["a"])({url:"/info_screen/user/delete/"+e,method:"delete",headers:{token:o["a"].getters.token}})}function n(e){return Object(s["a"])({url:"/info_screen/user/save",method:"POST",data:e})}function l(e){return Object(s["a"])({url:"/info_screen/user/update/v",method:"POST",data:e})}function c(e){return Object(s["a"])({url:"/info_screen/user",method:"post",data:e,headers:{token:o["a"].getters.token}})}function u(e,t){return Object(s["a"])({url:"/info_screen/user/state/"+e+"/"+t,method:"put",headers:{token:o["a"].getters.token}})}function d(){return Object(s["a"])({url:"/info_screen/role/list",method:"get",headers:{token:o["a"].getters.token}})}function m(){return Object(s["a"])({url:"/info_screen/menu/list",method:"get",headers:{token:o["a"].getters.token}})}function f(e){return Object(s["a"])({url:"/info_screen/resource/list",method:"post",data:e,headers:{token:o["a"].getters.token}})}function g(e){return Object(s["a"])({url:"/info_screen/resource/list/category",method:"post",data:e,headers:{token:o["a"].getters.token}})}function p(e){return Object(s["a"])({url:"/info_screen/resource/delete/"+e,method:"delete",headers:{token:o["a"].getters.token}})}function h(e){return Object(s["a"])({url:"/info_screen/resource/update",method:"put",data:e,headers:{token:o["a"].getters.token}})}function b(e){return Object(s["a"])({url:"/info_screen/resourceCategory/add",method:"post",data:e,headers:{token:o["a"].getters.token}})}function y(e){return Object(s["a"])({url:"/info_screen/resourceCategory/delete/"+e,method:"delete",headers:{token:o["a"].getters.token}})}function $(e){return Object(s["a"])({url:"info_screen/resourceCategory/update",method:"put",data:e,headers:{token:o["a"].getters.token}})}function v(){return Object(s["a"])({url:"/info_screen/resourceCategory/list",method:"get",headers:{token:o["a"].getters.token}})}function k(e){return Object(s["a"])({url:"/info_screen/resource/add",method:"post",data:e,headers:{token:o["a"].getters.token}})}function w(){return Object(s["a"])({url:"/info_screen/resourceCategory/searchList",method:"get",headers:{token:o["a"].getters.token}})}},"9cc8":function(e,t,r){},cfdf:function(e,t,r){},e105:function(e,t,r){"use strict";r("cfdf")},e965:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container",staticStyle:{background:"#fff",height:"100px",padding:"10px 0"}},[r("div",{staticClass:"title",staticStyle:{"font-size":"30px",padding:"10px"}},[e._v(e._s(e.title))]),r("div",{staticClass:"content",staticStyle:{"font-size":"15px",padding:"10px",color:"#888"}},[e._v(e._s(e.describe)+" ")])])},o=[],a={components:{},name:"pageHeader",props:{title:{type:String,default:null},describe:{type:String,default:null}},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},i=a,n=(r("3e54"),r("2877")),l=Object(n["a"])(i,s,o,!1,null,"32773f74",null);t["a"]=l.exports}}]);