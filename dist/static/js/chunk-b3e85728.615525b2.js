(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3e85728"],{"2c65":function(e,t,n){},3595:function(e,t,n){"use strict";n("2c65")},"3e54":function(e,t,n){"use strict";n("9cc8")},8593:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"m",(function(){return o})),n.d(t,"r",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"q",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"o",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return k})),n.d(t,"p",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return _})),n.d(t,"n",(function(){return $}));var r=n("751a"),s=n("4360");function a(e){return Object(r["a"])({url:"/info_screen/user/assignRole",method:"post",data:e,headers:{token:s["a"].getters.token}})}function i(e){return Object(r["a"])({url:"/info_screen/user/delete/"+e,method:"delete",headers:{token:s["a"].getters.token}})}function o(e){return Object(r["a"])({url:"/info_screen/user/save",method:"POST",data:e})}function l(e){return Object(r["a"])({url:"/info_screen/user/update/v",method:"POST",data:e})}function u(e){return Object(r["a"])({url:"/info_screen/user",method:"post",data:e,headers:{token:s["a"].getters.token}})}function c(e,t){return Object(r["a"])({url:"/info_screen/user/state/"+e+"/"+t,method:"put",headers:{token:s["a"].getters.token}})}function d(){return Object(r["a"])({url:"/info_screen/role/list",method:"get",headers:{token:s["a"].getters.token}})}function m(){return Object(r["a"])({url:"/info_screen/menu/list",method:"get",headers:{token:s["a"].getters.token}})}function f(e){return Object(r["a"])({url:"/info_screen/resource/list",method:"post",data:e,headers:{token:s["a"].getters.token}})}function p(e){return Object(r["a"])({url:"/info_screen/resource/list/category",method:"post",data:e,headers:{token:s["a"].getters.token}})}function h(e){return Object(r["a"])({url:"/info_screen/resource/delete/"+e,method:"delete",headers:{token:s["a"].getters.token}})}function g(e){return Object(r["a"])({url:"/info_screen/resource/update",method:"put",data:e,headers:{token:s["a"].getters.token}})}function b(e){return Object(r["a"])({url:"/info_screen/resourceCategory/add",method:"post",data:e,headers:{token:s["a"].getters.token}})}function k(e){return Object(r["a"])({url:"/info_screen/resourceCategory/delete/"+e,method:"delete",headers:{token:s["a"].getters.token}})}function y(e){return Object(r["a"])({url:"info_screen/resourceCategory/update",method:"put",data:e,headers:{token:s["a"].getters.token}})}function v(){return Object(r["a"])({url:"/info_screen/resourceCategory/list",method:"get",headers:{token:s["a"].getters.token}})}function _(e){return Object(r["a"])({url:"/info_screen/resource/add",method:"post",data:e,headers:{token:s["a"].getters.token}})}function $(){return Object(r["a"])({url:"/info_screen/resourceCategory/searchList",method:"get",headers:{token:s["a"].getters.token}})}},"9cc8":function(e,t,n){},e755:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-container"},[n("pageHeader",{attrs:{title:e.$t("menu.pageTitle"),describe:e.$t("menu.pageDesc")}}),n("div",{staticClass:"new-create",staticStyle:{"margin-left":"1rem"}},[null!==e.parentId?n("el-button",{staticClass:"el-icon-arrow-left",attrs:{type:"success",size:"mini"},on:{click:function(t){return e.getMenuListById(e.parentId)}}},[e._v(e._s(e.$t("menu.previous")))]):e._e(),n("el-button",{staticClass:"create-button",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.openDialog(1)}}},[n("i",{staticClass:"el-icon-plus"}),e._v(e._s(e.$t("menu.addMenu")))])],1),n("el-table",{attrs:{data:e.records,stripe:"",border:""}},[n("el-table-column",{attrs:{align:"center",label:e.$t("menu.index"),type:"index",width:"60"}}),n("el-table-column",{attrs:{prop:"name",label:e.$t("menu.name"),align:"center",width:"120"}}),n("el-table-column",{attrs:{prop:"title",label:e.$t("menu.title"),align:"center",width:"150"}}),n("el-table-column",{attrs:{prop:"enTitle",label:e.$t("menu.enTitle"),align:"center",width:"150"}}),n("el-table-column",{attrs:{prop:"uri",label:e.$t("menu.uri"),align:"center",width:"120"}}),n("el-table-column",{attrs:{prop:"icon",label:e.$t("menu.icon"),align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("i",{class:e.row.icon,staticStyle:{"font-size":"20px"}})]}}])}),n("el-table-column",{attrs:{prop:"children",label:e.$t("menu.children"),align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!==t.row.children.length?n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.getChild(t.row.children)}}},[e._v(e._s(e.$t("menu.next")))]):n("el-link",{attrs:{type:"primary",disabled:""}},[e._v(e._s(e.$t("menu.next")))])]}}])}),n("el-table-column",{attrs:{prop:"level",label:e.$t("menu.level"),align:"center",width:"100"}}),n("el-table-column",{attrs:{prop:"gmtCreate",label:e.$t("menu.creatAt"),align:"center",width:"220"}}),n("el-table-column",{attrs:{prop:"gmtModified",label:e.$t("menu.updateAt"),align:"center",width:"220"}}),n("el-table-column",{attrs:{label:e.$t("menu.operation"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticStyle:{display:"flex","justify-content":"center",cursor:"pointer"}},[n("div",{staticStyle:{color:"#409eff"},on:{click:function(n){return e.updateMenu(t.row)}}},[n("span",[e._v(e._s(e.$t("menu.edit")))])]),n("div",{staticStyle:{color:"#409eff","margin-left":"10px"},on:{click:function(n){return e.deleteMenu(t.row.id)}}},[n("span",[e._v(e._s(e.$t("menu.delete")))])])])]}}])})],1),n("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.visible,width:"35%"},on:{"update:visible":function(t){return e.$set(e.dialog,"visible",t)}}},[n("el-form",{attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:e.$t("menu.parent")}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}},e._l(e.options,(function(e){return n("el-option",{key:e.title,attrs:{label:e.title,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:e.$t("menu.name")}},[n("el-input",{attrs:{placeholder:"name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:e.$t("menu.title")}},[n("el-input",{attrs:{placeholder:"title"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:e.$t("menu.enTitle")}},[n("el-input",{attrs:{placeholder:"enTitle"},model:{value:e.form.enTitle,callback:function(t){e.$set(e.form,"enTitle",t)},expression:"form.enTitle"}})],1),n("el-form-item",{attrs:{label:e.$t("menu.uri")}},[n("el-input",{attrs:{placeholder:"uri"},model:{value:e.form.uri,callback:function(t){e.$set(e.form,"uri",t)},expression:"form.uri"}})],1),n("el-form-item",{attrs:{label:e.$t("menu.icon")}},[n("el-input",{attrs:{placeholder:"icon"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),n("el-form-item",{attrs:{label:e.$t("menu.level")}},[n("el-input",{attrs:{placeholder:"level"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v(e._s(e.$t("menu.confirm")))])],1)],1)],1)],1)},s=[],a=(n("14d9"),n("e965")),i=n("8593"),o=n("751a"),l=n("4360");function u(e){return Object(o["a"])({url:"/info_screen/menu/list/"+e,method:"get",headers:{token:l["a"].getters.token}})}function c(e){return Object(o["a"])({url:"/info_screen/menu/add",method:"post",headers:{token:l["a"].getters.token},data:e})}function d(e){return Object(o["a"])({url:"/info_screen/menu/update",method:"put",headers:{token:l["a"].getters.token},data:e})}function m(e){return Object(o["a"])({url:"/info_screen/menu/delete/"+e,method:"delete",headers:{token:l["a"].getters.token}})}var f={components:{pageHeader:a["a"]},data(){return{records:[],options:[],dialog:{title:"",visible:!1},form:{},update:!1,parentId:null}},created(){this.getMenuList()},methods:{openDialog(e){1==e?(this.form={},this.dialog.title="新增菜单"):(this.dialog.title="更新菜单",this.form={}),this.dialog.visible=!this.visible},async getMenuList(){const{data:e}=await Object(i["g"])();200==e.code?(this.records=e.data,this.options=JSON.parse(JSON.stringify(e.data)),this.options.push({title:"无上级",id:this.records[0].parentId})):this.$message({type:"warning",message:e.msg})},getChild(e){console.log(e),this.parentId=this.records[0].parentId,this.records=e,this.options=JSON.parse(JSON.stringify(this.records)),this.options.push({title:"无上级",id:this.records[0].parentId})},async submit(){if(console.log(this.form),this.update){const{data:e}=await d(this.form);200==e.code?(this.$message({type:"success",message:"update menu successfully."}),this.form=[],this.dialog.visible=!1,this.getMenuListById(this.records[0].parentId),this.update=!1):(this.$message({type:"warn",message:"update menu failure."}),this.form=[],this.dialog.visible=!1,this.update=!1,this.getMenuListById(this.records[0].parentId))}else{const{data:e}=await c(this.form);200==e.code&&(this.dialog.visible=!1,this.$message({type:"success",message:"add menu successfully."}),this.getMenuListById(this.records[0].parentId))}},deleteMenu(e){this.$confirm("确认删除这条记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const{data:t}=await m(e);200==t.code?(this.$message({type:"success",message:"delete menu successfully."}),this.getMenuListById(this.records[0].parentId)):this.$message({type:"warn",message:"delete menu failure."})}).catch(e=>{this.$message({type:"info",message:this.$t("clock.cancelTooltip")})})},updateMenu(e){this.openDialog(2),this.form=e,this.update=!0},async getMenuListById(e){const{data:t}=await u(e);200==t.code?(this.records=t.data,this.parentId=t.data[0].parentId,this.options=JSON.parse(JSON.stringify(t.data)),this.options.push({title:"无上级",id:this.records[0].parentId}),console.log(t)):this.$message({type:"warning",message:t.msg})}}},p=f,h=(n("3595"),n("2877")),g=Object(h["a"])(p,r,s,!1,null,"8ffe4536",null);t["default"]=g.exports},e965:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{background:"#fff",height:"100px",padding:"10px 0"}},[n("div",{staticClass:"title",staticStyle:{"font-size":"30px",padding:"10px"}},[e._v(e._s(e.title))]),n("div",{staticClass:"content",staticStyle:{"font-size":"15px",padding:"10px",color:"#888"}},[e._v(e._s(e.describe)+" ")])])},s=[],a={components:{},name:"pageHeader",props:{title:{type:String,default:null},describe:{type:String,default:null}},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},i=a,o=(n("3e54"),n("2877")),l=Object(o["a"])(i,r,s,!1,null,"32773f74",null);t["a"]=l.exports}}]);