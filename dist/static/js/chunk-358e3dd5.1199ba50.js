(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-358e3dd5"],{"3e54":function(t,e,a){"use strict";a("9cc8")},"74ca":function(t,e,a){},"9cc8":function(t,e,a){},c4c8:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return c}));var s=a("751a"),r=a("4360");function i(t){return Object(s["a"])({url:"/info_screen/product/addProduct",method:"post",headers:{token:r["a"].getters.token},data:t})}function o(t){return Object(s["a"])({url:"/info_screen/product/updateProduct",method:"post",headers:{token:r["a"].getters.token},data:t})}function n(t){return Object(s["a"])({url:"/info_screen/product/deleteProduct?id="+t,method:"delete",headers:{token:r["a"].getters.token}})}function c(t){return Object(s["a"])({url:"/info_screen/product/getAllProduct?company="+t,method:"get",headers:{token:r["a"].getters.token}})}},d54c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-container",attrs:{id:"index"}},[a("pageHeader",{attrs:{title:t.$t("specialProject.productTitle"),describe:t.$t("specialProject.productDesc")}}),a("div",{staticClass:"new-create",staticStyle:{"margin-left":"1rem"}},[a("el-button",{staticClass:"create-button",attrs:{type:"primary",size:"mini"},on:{click:t.openDialog}},[a("i",{staticClass:"el-icon-plus"}),t._v(t._s(t.$t("int.add")))])],1),a("div",{staticClass:"table"},[a("el-table",{staticClass:"table-content",staticStyle:{width:"100%"},attrs:{data:t.shows,border:!0,stripe:""}},[a("el-table-column",{attrs:{label:t.$t("clock.index"),width:"80",align:"center",type:"index"}}),a("el-table-column",{attrs:{prop:"name",label:t.$t("excelTemplate.name"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id==t.currentUpdateId?a("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}):a("div",[t._v(t._s(e.row.name))])]}}])}),a("el-table-column",{attrs:{prop:"productDate",label:t.$t("product.productDate"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["ch"==t.$i18n.locale?a("div",[t._v(t._s(e.row.productDate))]):a("div",[t._v(t._s(t.formatDate(e.row.productDate)))])]}}])}),a("el-table-column",{attrs:{prop:"content",label:t.$t("product.content"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id==t.currentUpdateId?a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}}):a("div",[t._v(t._s(e.row.content))])]}}])}),a("el-table-column",{attrs:{label:t.$t("ext.operation"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id==t.currentUpdateId?a("div",{staticStyle:{display:"flex","justify-content":"center",cursor:"pointer"}},[a("div",{staticStyle:{color:"#409eff"},on:{click:function(a){return t.confirmUpdate(e.row)}}},[a("span",[t._v(t._s(t.$t("ext.confirm")))])]),a("div",{staticStyle:{color:"#409eff","margin-left":"10px"},on:{click:t.cancelUpdate}},[a("span",[t._v(t._s(t.$t("ext.cancel")))])])]):a("div",{staticStyle:{display:"flex","justify-content":"center",cursor:"pointer"}},[a("div",{staticStyle:{color:"#409eff"},on:{click:function(a){return t.update(e.row)}}},[a("span",[t._v(t._s(t.$t("ext.update")))])]),a("div",{staticStyle:{color:"#409eff","margin-left":"10px"},on:{click:function(a){return t.deleteById(e.row.id)}}},[a("span",[t._v(t._s(t.$t("ext.delete")))])])])]}}])})],1)],1),a("el-dialog",{attrs:{title:t.dialog.title,visible:t.dialog.visible,width:"500px","destroy-on-close":!0},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[a("el-form",{ref:"formData",attrs:{model:t.formData,"label-width":"120px",rules:t.rules}},[a("el-form-item",{attrs:{label:t.$t("excelTemplate.name"),prop:"name"}},[a("el-input",{attrs:{type:"text",placeholder:t.$t("eol.namePlaceholder")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:t.$t("product.content"),prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:7,placeholder:t.$t("product.contentDesc")},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),a("el-form-item",{attrs:{label:t.$t("product.productDate"),prop:"productDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:t.$t("vacation.datePlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:t.formData.productDate,callback:function(e){t.$set(t.formData,"productDate",e)},expression:"formData.productDate"}})],1),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialog.visible=!1}}},[t._v(t._s(t.$t("int.cancel")))]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submit("formData")}}},[t._v(t._s(t.$t("ext.confirm")))])],1)])],1)],1)],1)},r=[],i=a("c4c8"),o=a("e965"),n={data(){return{shows:[],formData:{name:"",content:"",productDate:"",id:"",company:!1},updateShow:{},currentUpdateId:0,dialog:{title:"",visible:!1}}},created(){},computed:{rules(){var t=function(t,e,a){a()};return{name:[{required:!0,message:this.$t("product.nameDesc"),trigger:"blur"}],content:[{required:!0,message:this.$t("product.contentDesc"),trigger:"blur"}],productDate:[{required:!0,message:this.$t("vacation.datePlaceholder"),trigger:"blur"},{validator:t,trigger:"blur"}]}}},components:{pageHeader:o["a"]},methods:{formatDate(t){let e=new Date(t);const a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear();return`${a.toString().padStart(2,"0")}/${s.toString().padStart(2,"0")}/${r}`},openDialog(){this.dialog.title=this.$t("product.addDialogTitle"),this.dialog.visible=!this.dialog.visible;for(let t in this.formData)this.formData[t]="";this.$nextTick(()=>{this.$refs.formData.clearValidate()})},async getShows(){const{data:t}=await Object(i["c"])("false");200==t.code?this.shows=t.data:this.$message({type:"warning",message:t.msg})},update(t){this.dialog.visible=!0,this.dialog.title=this.$t("product.updateNews"),this.formData=JSON.parse(JSON.stringify(t)),this.formData.productDate=new Date(this.formData.productDate),this.$nextTick(()=>{this.$refs.formData.clearValidate()})},formatDateTime(t){let e=new Date(t);var a=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;var r=e.getDate();r=r<10?"0"+r:r;e.getHours();var i=e.getMinutes();return i=i<10?"0"+i:i,a+"-"+s+"-"+r},submit(t){this.$refs[t].validate(t=>{if(!t)return!1;this.formData.company=!1,this.dialog.title==this.$t("product.addDialogTitle")?Object(i["a"])(this.formData).then(t=>{if(200==t.data.code){this.$message({type:"success",message:this.$t("clock.operationOK")});for(let t in this.formData)this.formData[t]="";this.dialog.visible=!1,this.getShows()}}):(this.formData.productDate=this.formatDateTime(this.formData.productDate),Object(i["d"])(this.formData).then(t=>{if(200==t.data.code){this.$message({type:"success",message:"update notice successfully!"}),this.getShows(),this.dialog.visible=!1;for(let t in this.formData)this.formData[t]=""}else this.$message({type:"warning",message:t.msg})}))})},deleteById(t){this.$confirm(this.$t("award.deleteTips"),this.$t("ext.tips"),{confirmButtonText:this.$t("ext.confirm"),cancelButtonText:this.$t("ext.cancel"),type:"warning"}).then(async()=>{const{data:e}=await Object(i["b"])(t);200==e.code?(this.$message({type:"success",message:this.$t("clock.operationOK")}),this.getShows()):this.$message({type:"warning",message:e.msg})}).catch(t=>{})},async confirmUpdate(t){if(""==this.formData.content)return void this.$message({type:"warning",message:this.$t("product.warningTips")});if(""==this.formData.name)return void this.$message({type:"warning",message:this.$t("product.warningTips")});if(""==this.formData.productDate)return void this.$message({type:"warning",message:this.$t("product.warningTips")});const{data:e}=await Object(i["d"])(this.formData);if(200==e.code){this.$message({type:"success",message:"update notice successfully!"}),this.getShows(),this.currentUpdateId=0;for(let t in this.formData)this.formData[t]=""}else this.$message({type:"warning",message:e.msg})},cancelUpdate(){this.currentUpdateId=0;for(let t in this.formData)this.formData[t]="";this.getShows()}},mounted(){this.getShows()},watch:{}},c=n,l=(a("ed95"),a("2877")),d=Object(l["a"])(c,s,r,!1,null,"262829cf",null);e["default"]=d.exports},e965:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{background:"#fff",height:"100px",padding:"10px 0"}},[a("div",{staticClass:"title",staticStyle:{"font-size":"30px",padding:"10px"}},[t._v(t._s(t.title))]),a("div",{staticClass:"content",staticStyle:{"font-size":"15px",padding:"10px",color:"#888"}},[t._v(t._s(t.describe)+" ")])])},r=[],i={components:{},name:"pageHeader",props:{title:{type:String,default:null},describe:{type:String,default:null}},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},o=i,n=(a("3e54"),a("2877")),c=Object(n["a"])(o,s,r,!1,null,"32773f74",null);e["a"]=c.exports},ed95:function(t,e,a){"use strict";a("74ca")}}]);