(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5af0e22"],{2309:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return l}));var n=a("751a");function o(){return Object(n["a"])({url:"/info_screen/return/unsolvedTable",method:"get"})}function r(){return Object(n["a"])({url:"/info_screen/ticket/avgTicket",method:"get"})}function i(){return Object(n["a"])({url:"/info_screen/ticket/unsolvedTicket",method:"get"})}function l(){return Object(n["a"])({url:"/info_screen/stage/list",method:"get"})}},2614:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AvgTicket"},[a("div",{staticClass:"ticket-box",style:"height:"+e.height},[a("el-table",{ref:"avgTable",staticClass:"table-style",staticStyle:{margin:"0.1rem 0"},attrs:{data:e.complaints,height:e.tableHeight,"cell-style":e.cellStyle,"header-cell-style":e.headerCellStyle,"header-row-style":e.headerRowStyle,"span-method":e.arraySpanMethod}},[a("el-table-column",{attrs:{type:"index",width:"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index+1==1?a("span",{staticStyle:{color:"gold","font-weight":"800"}},[e._v("1")]):t.$index+1==2?a("span",{staticStyle:{color:"red","font-weight":"800"}},[e._v("2")]):t.$index+1==3?a("span",{staticStyle:{color:"green","font-weight":"800"}},[e._v("3")]):t.$index+1==4?a("span",{staticStyle:{color:"#ccc"}},[e._v("4")]):a("span",{staticStyle:{color:"#ccc"}},[e._v("5")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Row"}},[a("el-table-column",{attrs:{align:"center",label:"Product",prop:"rowProduct",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(null==t.row.rowProduct?"-":t.row.rowProduct))]}}])}),a("el-table-column",{attrs:{align:"center",label:"No.Tick.",prop:"rowTotal",width:Math.ceil(8*e.rem)},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null==t.row.rowTotal?"-":t.row.rowTotal)+" ")]}}])})],1),a("el-table-column",{attrs:{align:"center",label:"China"}},[a("el-table-column",{attrs:{align:"center",label:"Product",prop:"chinaProduct",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null==t.row.chinaProduct?"-":t.row.chinaProduct)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"No.Tick.",prop:"chinaTotal",width:Math.ceil(8*e.rem)},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null==t.row.chinaTotal?"-":t.row.chinaTotal)+" ")]}}])})],1)],1)],1)])},o=[],r=a("2309"),i={components:{},name:"AvgTicket",props:{tableHeight:{type:String,default:"20"},weight:{type:String,default:"100"},height:{type:String,default:"320px"},rem:{type:String,default:""},complaints:{type:Array,default:function(){return[]}}},data(){return{data:[],ticketTableCellHeight:""}},computed:{},watch:{},methods:{async getAvgTickets(){const{data:e}=await Object(r["a"])();200==e.code&&(this.data=e.data)},cellStyle({rowIndex:e,columnIndex:t}){const a=this.height.split("p",2);return this.ticketTableCellHeight=Math.ceil(Number(a[0])/7),e%2==0&&0==t?"background: #15184d; border: none; border-right: 1px solid #252963; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":e%2==0&&2==t?"font-size: 0.9rem; background: #15184d; border: none; border-right: 1px solid #dddddd88; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":e%2==0&&4==t?"font-size: 0.9rem; background: #15184d; border: none; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":e%2==0?"font-size: 0.9rem; background: #15184d; border: none; border-right: 1px solid #252963; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":e%2==1&&0==t?"background: #252963; border: none; border-right: 1px solid #171717; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":e%2==1&&2==t?"font-size: 0.9rem; background: #252963; border: none; border-right: 1px solid #171717; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":e%2==1&&4==t?"font-size: 0.9rem; background: #252963; border: none; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":"font-size: 0.9rem; background: #252963; border: none; border-right: 1px solid #15184d; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px"},headerCellStyle({columnIndex:e}){return 0==e||1==e?"font-weight: 600;background: #0f0938; white-space:nowrap; border-bottom: 1px solid #333; border-right: 1px solid #555; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":4==e?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":"font-weight: 600;background: #0f0938; white-space:nowrap; border-bottom: 1px solid #333; border-right: 1px solid #333; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;"},headerRowStyle(){return"height: 2.5rem;"},arraySpanMethod({row:e,column:t,rowIndex:a,columnIndex:n}){if(1==e&&0<colum<2)return{rowspan:e,colspan:t}}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},l=i,s=(a("b49a"),a("2877")),c=Object(s["a"])(l,n,o,!1,null,"603526da",null);t["a"]=c.exports},"3e54":function(e,t,a){"use strict";a("9cc8")},"47e9":function(e,t,a){"use strict";a("7807")},"4fc2":function(e,t,a){"use strict";a("ba8c")},6711:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"w",(function(){return r})),a.d(t,"y",(function(){return i})),a.d(t,"v",(function(){return l})),a.d(t,"z",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"x",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"h",(function(){return f})),a.d(t,"k",(function(){return h})),a.d(t,"g",(function(){return g})),a.d(t,"m",(function(){return b})),a.d(t,"p",(function(){return y})),a.d(t,"t",(function(){return v})),a.d(t,"q",(function(){return _})),a.d(t,"j",(function(){return w})),a.d(t,"s",(function(){return x})),a.d(t,"n",(function(){return k})),a.d(t,"o",(function(){return $})),a.d(t,"i",(function(){return C})),a.d(t,"u",(function(){return T})),a.d(t,"f",(function(){return S})),a.d(t,"A",(function(){return O})),a.d(t,"r",(function(){return D})),a.d(t,"C",(function(){return j})),a.d(t,"l",(function(){return A})),a.d(t,"B",(function(){return F}));var n=a("751a");function o(){return Object(n["a"])({url:"/info_screen/board/finance/all",method:"get"})}function r(e){return Object(n["a"])({url:"/info_screen/board/finance/outcomes/"+e,method:"get"})}function i(e){return Object(n["a"])({url:"/info_screen/board/finance/saleMonth/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/info_screen/board/finance/incomes/"+e,method:"get"})}function s(){return Object(n["a"])({url:"/info_screen/board/finance/sale/rate",method:"get"})}function c(e){return Object(n["a"])({url:"/info_screen/board/dept/all/"+e,method:"get"})}function d(e){return Object(n["a"])({url:"/info_screen/board/dept/month/"+e,method:"get"})}function u(e){return Object(n["a"])({url:"/info_screen/board/purchase/"+e,method:"get"})}function p(e){return Object(n["a"])({url:"/info_screen/board/cash/"+e,method:"get"})}function m(e){return Object(n["a"])({url:"/info_screen/board/balance/"+e,method:"get"})}function f(e){return Object(n["a"])({url:"/info_screen/board/clock/"+e,method:"get"})}function h(e){return Object(n["a"])({url:"/info_screen/board/member/"+e,method:"get"})}function g(e){return Object(n["a"])({url:"/info_screen/board/award/true/"+e,method:"get"})}function b(e){return Object(n["a"])({url:"/info_screen/board/unexpired/notices/"+e,method:"get"})}function y(){return Object(n["a"])({url:"/info_screen/board/productTesting/list",method:"get"})}function v(){return Object(n["a"])({url:"/info_screen/board/software/list",method:"get"})}function _(){return Object(n["a"])({url:"/info_screen/board/project/list",method:"get"})}function w(){return Object(n["a"])({url:"/info_screen/board/eol/list",method:"get"})}function x(){return Object(n["a"])({url:"/info_screen/board/return/list",method:"get"})}function k(){return Object(n["a"])({url:"/info_screen/board/monthOverstock/list",method:"get"})}function $(){return Object(n["a"])({url:"/info_screen/board/productStage/list",method:"get"})}function C(){return Object(n["a"])({url:"/info_screen/board/complaint/list",method:"get"})}function T(){return Object(n["a"])({url:"/info_screen/board/complaintUnsolved/list",method:"get"})}function S(){return Object(n["a"])({url:"/info_screen/board/avgDays",method:"get"})}function O(e){return Object(n["a"])({url:"/info_screen/board/avgDays/"+e,method:"get"})}function D(){return Object(n["a"])({url:"/info_screen/board/returnDays",method:"get"})}function j(e){return Object(n["a"])({url:"/info_screen/board/returnDays/"+e,method:"get"})}function A(){return Object(n["a"])({url:"/info_screen/board/monthOverstock/type",method:"get"})}function F(e){return Object(n["a"])({url:"/info_screen/board/monthOverstock/type/"+e,method:"get"})}},"73c5":function(e,t,a){"use strict";a("b375")},7807:function(e,t,a){},"789c":function(e,t,a){"use strict";a("e9bf")},"85b1":function(e,t,a){},"924a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"complaint-container"},[a("pageHeader",{attrs:{title:e.$t("complaint.pageTitle"),describe:e.$t("complaint.pageDesc")}}),a("div",{staticStyle:{"margin-left":"1rem"}},[a("el-form",{staticClass:"form-box",attrs:{inline:!0,model:e.form,size:"mini"}},[a("el-form-item",{attrs:{label:e.$t("return.product"),span:1}},[a("el-input",{staticStyle:{width:"220px"},attrs:{clearable:"",placeholder:e.$t("return.productPlaceholder")},model:{value:e.page.queryCondition.product,callback:function(t){e.$set(e.page.queryCondition,"product",t)},expression:"page.queryCondition.product"}})],1),a("el-form-item",{attrs:{placeholder:e.$t("return.areaPlaceholder"),span:1}},[a("el-checkbox-group",{attrs:{min:0,max:1},on:{change:e.checkChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"Row"}}),a("el-checkbox",{attrs:{label:"China"}})],1)],1),a("el-form-item",{attrs:{label:e.$t("return.startTime"),span:1}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"datetime",placeholder:e.$t("return.startTimePlaceholder"),"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.page.queryCondition.startTime,callback:function(t){e.$set(e.page.queryCondition,"startTime",t)},expression:"page.queryCondition.startTime"}})],1),a("el-form-item",{attrs:{label:e.$t("return.endTime"),span:1}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"datetime",placeholder:e.$t("return.endTimePlaceholder"),"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.page.queryCondition.endTime,callback:function(t){e.$set(e.page.queryCondition,"endTime",t)},expression:"page.queryCondition.endTime"}})],1),a("el-form-item",{attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.submitToQuery}},[e._v(e._s(e.$t("return.query")))])],1)],1)],1),a("div",{staticClass:"new-create",staticStyle:{"margin-left":"1rem"}},[a("el-button",{staticClass:"create-button",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.openDialog(1)}}},[a("i",{staticClass:"el-icon-plus"}),e._v(e._s(e.$t("complaint.add")))]),a("el-upload",{ref:"uploadRef",attrs:{action:e.base_api+"/info_screen/complaint/excel/handler",multiple:"",limit:1,"on-success":e.handleSuccess,headers:e.headers,"before-upload":e.beforeUpload,"show-file-list":!1}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[a("i",{staticClass:"el-icon-upload2"}),e._v(e._s(e.$t("complaint.batchAdd")))])],1),a("el-button",{staticClass:"create-button",staticStyle:{"margin-left":"15px"},attrs:{type:"success",size:"mini"},on:{click:e.changeAvgDays}},[e._v(" "+e._s(e.$t("complaint.btnTitle1"))+" "+e._s(e.avgDays)+" "+e._s(e.$t("complaint.btnTitle2")))]),a("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"warning",size:"mini"},on:{click:function(t){e.visible1=!0}}},[e._v(" view ")]),a("el-dropdown",{staticStyle:{"margin-left":"15px"}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v(" "+e._s(e.$t("excelTemplate.downloadTemplate"))),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("a",{staticStyle:{color:"#606266"},attrs:{href:e.base_api+"/template/Complaint_China.xlsx"}},[e._v(e._s(e.$t("excelTemplate.china")))])]),a("el-dropdown-item",[a("a",{staticStyle:{color:"#606266"},attrs:{href:e.base_api+"/template/Complaint_Row.xlsx"}},[e._v(e._s(e.$t("excelTemplate.row")))])])],1)],1)],1),a("el-dialog",{attrs:{title:e.$t("complaint.excelDialogTitle"),visible:e.visible},on:{close:function(t){e.visible=!1}}},[a("ComplaintTable",{attrs:{data:e.excelData},on:{fatherMethod:e.closeExcelTable}})],1),a("el-dialog",{attrs:{title:e.$t("complaint.addDialogTitle"),visible:e.addFormVisible},on:{close:function(t){e.addFormVisible=!1}}},[a("AddForm",{on:{fatherMethod:e.closeAddForm}})],1),a("el-dialog",{attrs:{title:e.$t("complaint.updateDialogTitle"),visible:e.updateFormVisible},on:{close:function(t){e.updateFormVisible=!1}}},[a("UpdateForm",{attrs:{form:e.updateForm},on:{fatherMethod:e.closeUpdateForm}})],1),a("el-dialog",{attrs:{title:e.$t("complaint.dialogTitle1"),visible:e.changeAvgDaysVisible},on:{close:function(t){e.changeAvgDaysVisible=!1}}},[a("div",[e._v(" "+e._s(e.$t("complaint.days"))+":"),a("el-input",{staticStyle:{width:"130px"},attrs:{clearable:"",type:"number",placeholder:e.$t("complaint.daysPlaceholder")},model:{value:e.avgDays,callback:function(t){e.avgDays=t},expression:"avgDays"}})],1),a("el-button",{staticStyle:{margin:"30px"},attrs:{type:"primary",size:"mini"},on:{click:e.setAvgDays}},[e._v(e._s(e.$t("complaint.confirm")))])],1),a("el-table",{staticClass:"table-content",staticStyle:{margin:"0 auto"},attrs:{data:e.complaints,border:!0,stripe:""}},[a("el-table-column",{attrs:{prop:"product",label:"product",align:"center"}}),a("el-table-column",{attrs:{prop:"area",label:"area",align:"center"}}),a("el-table-column",{attrs:{prop:"reason",label:"reason",align:"center"}}),a("el-table-column",{attrs:{prop:"complaintDate",label:"complaintDate",align:"center"}}),a("el-table-column",{attrs:{prop:"gmtCreate",label:"gmtCreate",align:"center"}}),a("el-table-column",{attrs:{prop:"gmtModified",label:"gmtModified",align:"center"}}),a("el-table-column",{attrs:{label:"operation",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex","justify-content":"center",cursor:"pointer"}},[a("div",{staticStyle:{color:"#409eff"},on:{click:function(a){return e.update(t.row)}}},[a("span",[e._v(e._s(e.$t("complaint.update")))])]),a("div",{staticStyle:{color:"#409eff","margin-left":"10px"},on:{click:function(a){return e.deleteComplaint(t.row.id)}}},[a("span",[e._v(e._s(e.$t("complaint.delete")))])])])]}}])})],1),a("div",{staticClass:"block",staticStyle:{margin:"20px auto"}},[a("el-pagination",{staticStyle:{float:"right","margin-bottom":"20px"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"Avg. Complaints",visible:e.visible1,width:"45%"},on:{"update:visible":function(t){e.visible1=t}}},[a("AvgTicket",{staticStyle:{"padding-right":"0.5rem"},attrs:{complaints:e.avgComplaints}})],1)],1)},o=[],r=a("e965"),i=a("2614"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"productTestingTable"},[a("el-table",{staticClass:"table-content",staticStyle:{margin:"0 auto"},attrs:{data:e.data,border:!0,stripe:""}},[a("el-table-column",{attrs:{prop:"product",label:e.$t("complaint.product"),align:"center"}}),a("el-table-column",{attrs:{prop:"area",label:e.$t("complaint.area"),align:"center"}}),a("el-table-column",{attrs:{prop:"reason",label:e.$t("complaint.reason"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.reason?a("span",[e._v("/")]):a("span",[e._v(e._s(t.row.reason))])]}}])}),a("el-table-column",{attrs:{prop:"complaintDate",label:e.$t("complaint.complaintDate"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.complaintDate?a("span",[e._v("/")]):a("span",[e._v(e._s(t.row.complaintDate))])]}}])})],1),a("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v(" "+e._s(e.$t("complaint.confirm"))+" ")]),a("el-button",{attrs:{type:"warning"},on:{click:e.cancle}},[e._v(" "+e._s(e.$t("complaint.cancel"))+" ")])],1)],1)},s=[],c=a("751a"),d=a("4360");function u(e){return Object(c["a"])({url:"/info_screen/complaint/add",data:e,method:"post",headers:{token:d["a"].getters.token}})}function p(e){return Object(c["a"])({url:"/info_screen/complaint/batchAdd",data:e,method:"post",headers:{token:d["a"].getters.token}})}function m(e){return Object(c["a"])({url:"/info_screen/complaint/delete/"+e,method:"delete",headers:{token:d["a"].getters.token}})}function f(e){return Object(c["a"])({url:"/info_screen/complaint/update",method:"put",data:e,headers:{token:d["a"].getters.token}})}function h(){return Object(c["a"])({url:"/info_screen/complaint/list",method:"get",headers:{token:d["a"].getters.token}})}function g(e){return Object(c["a"])({url:"/info_screen/complaint/list/paged",method:"post",data:e,headers:{token:d["a"].getters.token}})}var b={components:{},name:"complaintTable",props:{data:{type:Array,required:!0,default:function(){return[]}}},data(){return{}},computed:{},watch:{},methods:{async confirm(){const{data:e}=await p(this.data);200==e.code?(this.$message({type:"success",message:"complaints batchAdd successfully!"}),this.$emit("fatherMethod")):this.$message({type:"warning",message:e.msg})},cancle(){this.$emit("fatherMethod")}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},y=b,v=(a("47e9"),a("2877")),_=Object(v["a"])(y,l,s,!1,null,"0d62cd82",null),w=_.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"UpdateForm"},[a("el-form",{attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.$t("complaint.product")}},[a("el-input",{attrs:{type:"text",placeholder:e.$t("complaint.productPlaceholder")},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}})],1),a("el-form-item",{attrs:{label:e.$t("complaint.area")}},[a("el-select",{attrs:{placeholder:e.$t("complaint.areaPlaceholder")},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}},e._l(e.areaOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("complaint.reason")}},[a("el-input",{attrs:{type:"textarea",placeholder:e.$t("complaint.reasonPlaceholder")},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),a("el-form-item",{attrs:{label:e.$t("complaint.complaintDate")}},[a("el-date-picker",{attrs:{type:"date",placeholder:e.$t("complaint.complaintDatePlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.complaintDate,callback:function(t){e.$set(e.form,"complaintDate",t)},expression:"form.complaintDate"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v(e._s(e.$t("complaint.confirm")))])],1)],1)],1)},k=[],$={components:{},name:"UpdateForm",props:{form:{type:Object,required:!0,default:function(){return{}}}},data(){return{updateForm:this.form,areaOptions:[{value:"Row",label:"Row"},{value:"China",label:"China"}]}},computed:{},watch:{form(){this.updateForm=this.form}},methods:{async submit(){console.log(this.updateForm);const{data:e}=await f(this.updateForm);200==e.code?(this.$message({type:"success",message:"update successfully!"}),this.updateForm={},this.$emit("fatherMethod")):this.$message({type:"warning",message:e.msg})}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},C=$,T=(a("789c"),Object(v["a"])(C,x,k,!1,null,"4bc500c2",null)),S=T.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addForm"},[a("el-form",{attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e.$t("complaint.product")}},[a("el-input",{attrs:{type:"text",placeholder:e.$t("complaint.productPlaceholder")},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}})],1),a("el-form-item",{attrs:{label:e.$t("complaint.area")}},[a("el-select",{attrs:{placeholder:e.$t("complaint.areaPlaceholder")},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}},e._l(e.areaOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("complaint.reason")}},[a("el-input",{attrs:{type:"textarea",placeholder:e.$t("complaint.reasonPlaceholder")},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),a("el-form-item",{attrs:{label:e.$t("complaint.complaintDate")}},[a("el-date-picker",{attrs:{type:"date",placeholder:e.$t("complaint.complaintDatePlaceholder"),"value-format":"yyyy-MM-dd"},model:{value:e.form.complaintDate,callback:function(t){e.$set(e.form,"complaintDate",t)},expression:"form.complaintDate"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v(e._s(e.$t("complaint.confirm")))])],1)],1)],1)},D=[],j={components:{},name:"addForm",data(){return{form:{},areaOptions:[{value:"Row",label:"Row"},{value:"China",label:"China"}]}},computed:{},watch:{},methods:{async submit(){console.log(this.form);const{data:e}=await u(this.form);200==e.code?(this.$message({type:"success",message:"add successfully!"}),this.form={},this.$emit("fatherMethod")):this.$message({type:"warning",message:e.msg})}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},A=j,F=(a("4fc2"),Object(v["a"])(A,O,D,!1,null,"1199ae65",null)),M=F.exports,z=a("6711"),R={components:{ComplaintTable:w,UpdateForm:S,AddForm:M,AvgTicket:i["a"],pageHeader:r["a"]},name:"complaint-index",data(){return{complaints:[],base_api:"https://api.board.ifi-cloud.com",headers:{token:d["a"].getters.token},excelData:[],visible:!1,title:"",addFormVisible:!1,updateFormVisible:!1,updateForm:{},avgDays:7,changeAvgDaysVisible:!1,visible1:!1,avgComplaints:[],page:{pageSize:10,pageNum:1,total:1e3,queryCondition:{product:"",area:"",startTime:"",endTime:""}},areaOptions:[{value:"Row",label:"Row"},{value:"China",label:"China"}],form:{},checkList:[]}},computed:{},watch:{},methods:{handleSuccess(e){console.log(e.data),200==e.code?(this.excelData=e.data,this.visible=!0,this.title="EOL Excel Data"):this.$message({type:"warning",message:e.msg})},beforeUpload(e){const t=e.name;if("Complaint_China.xlsx"!==t&"Complaint_Row.xlsx"!==t)return this.$confirm("请上传Complaint_XXXX.xlsx",this.$t("eol.tips"),{confirmButtonText:this.$t("eol.confirm"),cancelButtonText:this.$t("eol.cancel"),type:"warning"}),!1},openDialog(e){1==e&&(this.title="新增Complaint",this.addFormVisible=!0),2==e&&(this.title="更新表单",this.updateFormVisible=!0)},update(e){this.updateForm=e,this.openDialog(2)},closeUpdateForm(){this.getRecords(),this.getAvgComplaints(),this.updateFormVisible=!1},closeAddForm(){this.getRecords(),this.getAvgComplaints(),this.addFormVisible=!1},closeExcelTable(){this.$refs.uploadRef.clearFiles(),this.visible=!1,this.getRecords(),this.getAvgComplaints()},deleteComplaint(e){this.$confirm(this.$t("complaint.deleteTips"),this.$t("complaint.tips"),{confirmButtonText:this.$t("complaint.confirm"),cancelButtonText:this.$t("complaint.cancel"),type:"warning"}).then(async()=>{const{data:t}=await m(e);200==t.code?(this.$message({type:"success",message:"delete Complaint successfully!"}),this.getRecords(),this.getAvgComplaints()):this.$message({type:"warning",message:t.msg})}).catch(e=>{this.$message({type:"info",message:this.$t("clock.cancelTooltip")})})},async getComplaints(){const{data:e}=await h();200==e.code?(this.complaints=e.data,this.$message({type:"success",message:"getComplaints successfully!"})):this.$message({type:"warning",message:e.msg})},async getAvgDays(){const{data:e}=await Object(z["f"])();200==e.code?this.avgDays=e.data:this.$message({type:"warning",message:e.msg})},changeAvgDays(){this.changeAvgDaysVisible=!0},async setAvgDays(){const{data:e}=await Object(z["A"])(this.avgDays);200==e.code?(this.$message({type:"success",message:"update avgDays successfully!"}),this.changeAvgDaysVisible=!1,this.getAvgComplaints()):this.$message({type:"warning",message:e.msg})},async getAvgComplaints(){const{data:e}=await Object(z["i"])();console.log("getComplaints",e),200==e.code?this.avgComplaints=e.data:this.$message({type:"warning",message:e.msg})},submitToQuery(){this.page.pageNum=1,this.getRecords()},checkChange(e){this.page.queryCondition.area=1==e.length?e[0]:""},handleCurrentChange(e){this.page.pageNum=e,this.getRecords()},handleSizeChange(e){this.page.pageSize=e,this.getRecords()},async getRecords(){const{data:e}=await g(this.page);console.log(e),200==e.code?(this.complaints=e.data.data,this.page.total=e.data.total):this.$message({type:"warning",message:e.msg})}},created(){},mounted(){this.getRecords(),this.getAvgComplaints(),this.getAvgDays()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},H=R,P=(a("73c5"),Object(v["a"])(H,n,o,!1,null,"6cf06c46",null));t["default"]=P.exports},"9cc8":function(e,t,a){},b375:function(e,t,a){},b49a:function(e,t,a){"use strict";a("85b1")},ba8c:function(e,t,a){},e965:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{background:"#fff",height:"100px",padding:"10px 0"}},[a("div",{staticClass:"title",staticStyle:{"font-size":"30px",padding:"10px"}},[e._v(e._s(e.title))]),a("div",{staticClass:"content",staticStyle:{"font-size":"15px",padding:"10px",color:"#888"}},[e._v(e._s(e.describe)+" ")])])},o=[],r={components:{},name:"pageHeader",props:{title:{type:String,default:null},describe:{type:String,default:null}},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},i=r,l=(a("3e54"),a("2877")),s=Object(l["a"])(i,n,o,!1,null,"32773f74",null);t["a"]=s.exports},e9bf:function(e,t,a){}}]);