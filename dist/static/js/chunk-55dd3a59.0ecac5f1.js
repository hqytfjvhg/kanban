(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55dd3a59"],{"10ac":function(t,e,n){"use strict";n("14c5")},"14c5":function(t,e,n){},1585:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"crayon-clock"},[n("div",{staticClass:"crayon-clock-time"},[12===t.timeFormat?n("div",{staticClass:"meridiem"},[t._v(t._s(t.amOrAp?"PM":"AM"))]):t._e(),n("div",{staticClass:"time flexCenter"},[t._v(" "+t._s(t.time)+" ")])]),n("div",{staticClass:"crayon-clock-date"},[n("div",{staticClass:"country",style:t.country.length>=7?t.country.length>=9?"font-size: 1.4rem;":"font-size: 1.6rem;":"font-size: 2rem;"},[t._v(t._s(t.country))]),n("div",{staticClass:"date"},[t._v(" "+t._s(t.week+" "+t.date)+" ")])])])])},a=[],i={name:"CrayonClock",components:{},props:{timeZone:{type:Number,required:!1,default:8},country:{type:String,required:!1,default:"China"},dateStyle:{type:String,required:!1,default:"letter-spacing: 0.1em;font-size: 14px;"},weekStyle:{type:String,required:!1,default:"font-size: 16px;"},timeFormat:{type:Number,required:!1,default:12}},data(){return{time:"",date:"",week:"",amOrAp:0,timerHelper:!1}},mounted(){this.timerHelper=setInterval(this.updateTime,1e3)},beforeDestroy(){this.timerHelper&&(clearInterval(this.timerHelper),this.timerHelper=!1)},methods:{zeroPadding(t,e){let n="";for(let r=0;r<e;r++)n+="0";return(n+t).slice(-e)},updateTime(){const t=["Sun.","Mon.","Tues.","Wed.","Thur.","Fri.","Sat."],e=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."],n=this.getZoneTime(this.timeZone);let r=n.getHours();12==this.timeFormat&&(this.amOrAp=r>=12?1:0,r=0===r?12:r>=13?r-12:r,this.time=this.zeroPadding(r,2)+":"+this.zeroPadding(n.getMinutes(),2)),24==this.timeFormat&&(this.time=this.zeroPadding(r,2)+":"+this.zeroPadding(n.getMinutes(),2)),this.date=this.zeroPadding(n.getDate(),2)+" "+e[n.getMonth()],this.week=t[n.getDay()]},getZoneTime(t){var e=new Date,n=e.getTime(),r=6e4*e.getTimezoneOffset(),a=r+n,i=a+36e5*t,s=new Date(i);return s}}},s=i,o=(n("efde"),n("2877")),c=Object(o["a"])(s,r,a,!1,null,"dc67b120",null);e["a"]=c.exports},"1e5c":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outer",style:{height:t.height},on:{mouseover:t.stopScroll,mouseleave:t.startScroll}},[n("div",{ref:"inner1"},[t._t("default")],2),n("div",{ref:"inner2"})])},a=[],i={name:"AutoScroll",props:{speed:{type:Number,default:90},height:{type:String,default:"0px"}},mounted(){this.getDomRef(),this.tryScroll()},updated(){this.tryScroll()},methods:{getDomRef(){this.outer=this.$el,this.inner1=this.$refs.inner1,this.inner2=this.$refs.inner2},tryScroll(){this.inner1.clientHeight>this.outer.clientHeight?(this.inner2.innerHTML=this.inner1.innerHTML,this.startScroll()):(this.inner2.innerHTML="",this.stopScroll())},startScroll(){this.autoScrollInterval||(this.autoScrollInterval=setInterval(()=>{this.outer.scrollTop>=this.inner1.offsetHeight?(this.outer.scrollTop=0,this.$emit("complete")):(this.outer.scrollTop+=1,this.outer.scrollTop===Math.ceil(this.inner1.offsetHeight/2)&&this.$emit("half"))},this.speed))},stopScroll(){clearInterval(this.autoScrollInterval),this.autoScrollInterval=null}}},s=i,o=(n("5b51"),n("2877")),c=Object(o["a"])(s,r,a,!1,null,"614ad447",null),d=c.exports;e["a"]=d},2205:function(t,e,n){},"2a00":function(t,e,n){},3222:function(t,e,n){"use strict";n("8a89")},"364e":function(t,e,n){"use strict";n("2205")},"39e2":function(t,e,n){},"4a53":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calendar",style:{height:t.height}},[n("div",{staticClass:"calendar-tip",staticStyle:{color:"#eee"}},[t._v("Holidays")]),n("div",{staticClass:"calendar-content"},[n("vc-calendar",{staticClass:"vc-calendar",staticStyle:{"margin-right":"0.5rem"},style:t.cssVars,attrs:{color:"blue",pane:1,attributes:t.holidays,"is-dark":!0,locale:"en"}}),n("vc-calendar",{ref:"calendar",staticClass:"vc-calendar",staticStyle:{"margin-top":"1rem"},style:t.cssVars,attrs:{color:"blue",pane:2,attributes:t.holidays,"is-dark":!0,locale:"en",step:2}})],1),t._m(0)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",height:"3rem","font-family":"Arial","padding-bottom":"0.6rem"}},[n("div",{staticClass:"work-style"}),n("div",{staticStyle:{color:"#ea4335","margin-right":"1rem"}},[t._v("CN working day")]),n("div",{staticClass:"holiday-tip",staticStyle:{background:"#f2ff00"}}),n("div",{staticStyle:{color:"#f2ff00","margin-right":"1rem"}},[t._v("CN")]),n("div",{staticClass:"holiday-tip",staticStyle:{background:"#4285f4"}}),n("div",{staticStyle:{color:"#4285f4","margin-right":"1rem"}},[t._v("UK")]),n("div",{staticClass:"holiday-tip",staticStyle:{background:"#b5b5b5"}}),n("div",{staticStyle:{color:"#b5b5b5","margin-right":"1rem"}},[t._v("US")]),n("div",{staticClass:"holiday-tip",staticStyle:{background:"#34a853"}}),n("div",{staticStyle:{color:"#34a853"}},[t._v("Today")])])}],i={components:{},name:"NationalHoliday",props:{rem:{type:String,default:""},holidays:{type:Array,default:function(){return[]}},height:{type:String,default:"100%"},contentHeight:{type:String,default:"30px"}},data(){return{testData:[{key:"today",dates:new Date,highlight:{color:"red"}},{dot:{style:{backgroundColor:"#48bb78"}},dates:[new Date(2024,8,1),new Date(2024,8,2),new Date(2024,8,3),new Date(2024,8,4)]}]}},computed:{cssVars(){return{"--contentHeight":this.contentHeight}}},watch:{rem:{handler:function(){document.documentElement.style.fontSize=this.rem},immediate:!0}},methods:{checkAndConvertDotsToTriangles(){if(this.holidays){const t=document.querySelectorAll(".vc-dot");t.forEach(t=>{const e=window.getComputedStyle(t),n=e.getPropertyValue("background-color");"rgb(83, 83, 83)"===n?(t.classList.add("triangle-dot"),t.style.backgroundColor="transparent"):t.classList.remove("triangle-dot")})}}},created(){},async mounted(){const t=this.$refs.calendar;await t.move(1)},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},s=i,o=(n("796d"),n("2877")),c=Object(o["a"])(s,r,a,!1,null,"20fa56ae",null);e["a"]=c.exports},"5a65":function(t,e,n){},"5b51":function(t,e,n){"use strict";n("2a00")},6711:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"w",(function(){return i})),n.d(e,"y",(function(){return s})),n.d(e,"v",(function(){return o})),n.d(e,"z",(function(){return c})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return l})),n.d(e,"x",(function(){return u})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return m})),n.d(e,"h",(function(){return f})),n.d(e,"k",(function(){return g})),n.d(e,"g",(function(){return b})),n.d(e,"m",(function(){return p})),n.d(e,"p",(function(){return y})),n.d(e,"t",(function(){return w})),n.d(e,"q",(function(){return v})),n.d(e,"j",(function(){return k})),n.d(e,"s",(function(){return _})),n.d(e,"n",(function(){return S})),n.d(e,"o",(function(){return O})),n.d(e,"i",(function(){return C})),n.d(e,"u",(function(){return j})),n.d(e,"f",(function(){return x})),n.d(e,"A",(function(){return A})),n.d(e,"r",(function(){return N})),n.d(e,"C",(function(){return H})),n.d(e,"l",(function(){return T})),n.d(e,"B",(function(){return E}));var r=n("751a");function a(){return Object(r["a"])({url:"/info_screen/board/finance/all",method:"get"})}function i(t){return Object(r["a"])({url:"/info_screen/board/finance/outcomes/"+t,method:"get"})}function s(t){return Object(r["a"])({url:"/info_screen/board/finance/saleMonth/"+t,method:"get"})}function o(t){return Object(r["a"])({url:"/info_screen/board/finance/incomes/"+t,method:"get"})}function c(){return Object(r["a"])({url:"/info_screen/board/finance/sale/rate",method:"get"})}function d(t){return Object(r["a"])({url:"/info_screen/board/dept/all/"+t,method:"get"})}function l(t){return Object(r["a"])({url:"/info_screen/board/dept/month/"+t,method:"get"})}function u(t){return Object(r["a"])({url:"/info_screen/board/purchase/"+t,method:"get"})}function h(t){return Object(r["a"])({url:"/info_screen/board/cash/"+t,method:"get"})}function m(t){return Object(r["a"])({url:"/info_screen/board/balance/"+t,method:"get"})}function f(t){return Object(r["a"])({url:"/info_screen/board/clock/"+t,method:"get"})}function g(t){return Object(r["a"])({url:"/info_screen/board/member/"+t,method:"get"})}function b(t){return Object(r["a"])({url:"/info_screen/board/award/true/"+t,method:"get"})}function p(t){return Object(r["a"])({url:"/info_screen/board/unexpired/notices/"+t,method:"get"})}function y(){return Object(r["a"])({url:"/info_screen/board/productTesting/list",method:"get"})}function w(){return Object(r["a"])({url:"/info_screen/board/software/list",method:"get"})}function v(){return Object(r["a"])({url:"/info_screen/board/project/list",method:"get"})}function k(){return Object(r["a"])({url:"/info_screen/board/eol/list",method:"get"})}function _(){return Object(r["a"])({url:"/info_screen/board/return/list",method:"get"})}function S(){return Object(r["a"])({url:"/info_screen/board/monthOverstock/list",method:"get"})}function O(){return Object(r["a"])({url:"/info_screen/board/productStage/list",method:"get"})}function C(){return Object(r["a"])({url:"/info_screen/board/complaint/list",method:"get"})}function j(){return Object(r["a"])({url:"/info_screen/board/complaintUnsolved/list",method:"get"})}function x(){return Object(r["a"])({url:"/info_screen/board/avgDays",method:"get"})}function A(t){return Object(r["a"])({url:"/info_screen/board/avgDays/"+t,method:"get"})}function N(){return Object(r["a"])({url:"/info_screen/board/returnDays",method:"get"})}function H(t){return Object(r["a"])({url:"/info_screen/board/returnDays/"+t,method:"get"})}function T(){return Object(r["a"])({url:"/info_screen/board/monthOverstock/type",method:"get"})}function E(t){return Object(r["a"])({url:"/info_screen/board/monthOverstock/type/"+t,method:"get"})}},"67c4":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return l}));var r=n("751a"),a=n("4360");function i(t){return Object(r["a"])({url:"/info_screen/awards//generator/image",method:"post",headers:{token:a["a"].getters.token},data:t,timeout:1e5})}function s(t){return Object(r["a"])({url:"/info_screen/awards//generator/images",method:"post",headers:{token:a["a"].getters.token},data:t,timeout:2e5})}function o(){return Object(r["a"])({url:"/info_screen/awards/all",method:"get",headers:{token:a["a"].getters.token}})}function c(t){return Object(r["a"])({url:"/info_screen/awards/state/true/"+t,method:"get"})}function d(t){return Object(r["a"])({url:"/info_screen/awards/delete/"+t,method:"delete",headers:{token:a["a"].getters.token}})}function l(t){return Object(r["a"])({url:"/info_screen/awards/state/"+t,method:"put",headers:{token:a["a"].getters.token}})}},"796d":function(t,e,n){"use strict";n("39e2")},"821b":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return u}));var r=n("751a"),a=n("4360");function i(){return Object(r["a"])({url:"/info_screen/show/list",method:"get",headers:{token:a["a"].getters.token}})}function s(t){return Object(r["a"])({url:"/info_screen/show/insert",method:"post",data:t,headers:{token:a["a"].getters.token}})}function o(t){return Object(r["a"])({url:"/info_screen/show/batchAdd",method:"post",data:t,headers:{token:a["a"].getters.token}})}function c(){return Object(r["a"])({url:"/info_screen/show/unexpiredShow",method:"get"})}function d(t){return Object(r["a"])({url:"/info_screen/show/updateIsExpire/"+t,method:"get",headers:{token:a["a"].getters.token}})}function l(t){return Object(r["a"])({url:"/info_screen/show/updateShow",method:"post",data:t,headers:{token:a["a"].getters.token}})}function u(t){return Object(r["a"])({url:"/info_screen/show/delete/"+t,method:"delete",headers:{token:a["a"].getters.token}})}},"8a89":function(t,e,n){},"9a77":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AwardsIfr"},[n("div",{staticClass:"award-news"},[0!==t.awards.length?n("autoscroll",{staticClass:"award-box",attrs:{height:t.height,speed:20}},t._l(t.awards,(function(e){return n("div",{key:e.id},[n("img",{staticStyle:{display:"block",width:"100%"},attrs:{src:t.base_api+"/"+e.imageUrl,mode:"widthFix"}})])})),0):n("div",{staticStyle:{padding:"5rem","font-size":"3rem"}},[t._v("NO DATA !")])],1)])},a=[],i=n("67c4"),s=n("1e5c"),o={components:{autoscroll:s["a"]},name:"index",props:{height:{type:String,default:"15.5rem"},rem:{type:String,default:""},awards:{type:Array,default:function(){return[]}}},data(){return{data:[],base_api:"https://api.board.ifi-cloud.com"}},computed:{},watch:{rem:{handler:function(){document.documentElement.style.fontSize=this.rem,console.log("AwardsIfr change document rem"+this.rem)},immediate:!0}},methods:{async selectAwards(){const{data:t}=await Object(i["f"])(1);200==t.code&&(this.data=t.data)}},created(){},mounted(){this.selectAwards()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},c=o,d=(n("10ac"),n("2877")),l=Object(d["a"])(c,r,a,!1,null,"6b1fc1c2",null);e["a"]=l.exports},ac10:function(t,e,n){"use strict";n("5a65")},b130:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"keyNew"},[n("div",{staticClass:"key-news"},[n("div",{staticClass:"news-box"},[n("div",{staticClass:"news-tip"},[t._v(t._s(t.$t("int.unInfo")))]),n("autoscroll",{attrs:{height:t.height,speed:30}},[0===t.keyNews.length?n("div",{staticStyle:{padding:"5rem","font-size":"3rem"}},[t._v(" "+t._s(t.$t("int.noneInfo"))+" ")]):t._e(),t._l(t.keyNews,(function(e){return n("div",{key:e.keynewId,staticClass:"news-content"},[n("el-row",{staticClass:"news-item"},[n("el-col",{staticStyle:{"margin-right":"1rem"},attrs:{span:4}},[0===e.memberId||null===e.memberId?n("div",{staticClass:"news-publish-box"},[n("el-avatar",{staticStyle:{width:"5rem",height:"5rem"},attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}),n("div",{staticStyle:{"font-size":"1rem","margin-top":"6px",color:"rgba(255, 255, 255,0.8)","word-break":"break-all","font-weight":"600"}},[t._v(" "+t._s(e.publisher))])],1):n("div",{staticClass:"news-publish-box"},[n("el-avatar",{staticStyle:{width:"5rem",height:"5rem"},attrs:{src:t.base_api+e.avatar}}),n("div",{staticStyle:{"font-size":"1rem","margin-top":"6px",color:"rgba(255, 255, 255,0.8)","word-break":"break-all","font-weight":"600"}},[t._v(" "+t._s(e.memberName))])],1)]),n("el-col",{attrs:{span:20}},[n("div",{staticStyle:{"line-height":"1.5em","word-break":"keep-all","text-align":"justify","text-justify":"distribute-all-lines","font-size":"1.4rem","font-weight":"600"}},[t._v(" "+t._s(e.message))]),n("div",{staticStyle:{"font-size":"1rem","margin-top":"10px",color:"rgba(255, 255, 255,0.5)","text-align":"end"}},[t._v(" "+t._s(e.gmtCreate))]),n("div",{staticStyle:{"font-size":"1rem","margin-top":"3px",color:"rgba(255, 255, 255,0.5)","text-align":"end"}},[t._v(" "+t._s(e.title))])])],1)],1)}))],2)],1)])])},a=[],i=n("fe71"),s=n("1e5c"),o={components:{autoscroll:s["a"]},name:"KeyNew",props:{height:{type:String,default:"15.5rem"},rem:{type:String,default:""},keyNews:{type:Array,default:function(){return[]}}},data(){return{data:[],base_api:"https://api.board.ifi-cloud.com"}},computed:{},watch:{},methods:{async getKeyNews(){const{data:t}=await Object(i["e"])();200==t.code&&(this.data=t.data)}},created(){},mounted(){this.getKeyNews()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},c=o,d=(n("c67e"),n("2877")),l=Object(d["a"])(c,r,a,!1,null,"be1b899e",null);e["a"]=l.exports},b3df:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CompanyScreen"},[n("div",{staticClass:"title flex-center",style:"height:"+t.titleHeight,attrs:{id:"title"}},[t._v("Company")]),n("div",{staticClass:"first-part",staticStyle:{margin:"0 0.8rem"}},[n("el-row",t._l(t.clocks,(function(e){return n("el-col",{key:e.clockId,attrs:{xs:12,sm:12,lg:{span:"4-8"}}},[n("div",{staticClass:"clock-group",style:"height:"+t.clockHeight,attrs:{id:"clock-group"}},[n("CrayonClock",{attrs:{timeZone:Number(e.clockTimezone),country:e.clockArea,timeFormat:e.timeFormat}})],1)])})),1)],1),n("div",{staticClass:"separate",attrs:{id:"separate"}}),n("div",{staticClass:"members",staticStyle:{margin:"0 0.8rem"}},[n("el-row",t._l(t.members,(function(e,r){return n("el-col",{key:e.id,attrs:{xs:12,sm:12,lg:{span:"4-8"}}},[n("CardComponent",{attrs:{height:t.membersHeight,rem:t.rem,members:e}})],1)})),1)],1),n("div",{staticClass:"separate",attrs:{id:"separate"}}),n("div",{staticClass:"second-part",staticStyle:{display:"flex",margin:"0 1.2rem 1rem 0"}},[n("NationalHoliday",{staticStyle:{"margin-left":"1.5rem",flex:"3"},attrs:{rem:t.rem,height:t.holidayHeight,contentHeight:t.contentHeight,holidays:t.holidays}}),n("div",{staticStyle:{"margin-left":"1rem",flex:"4",height:"100%"}},[n("KeyNews",{staticStyle:{width:"100%"},attrs:{keyNews:t.keyNews,height:t.height2}}),n("div",{staticClass:"separate",attrs:{id:"separate"}}),n("AwardsIfr",{staticStyle:{width:"100%"},attrs:{awards:t.intAwards,height:t.height1,rem:t.rem}})],1),n("div",{staticStyle:{"margin-left":"1rem",flex:"4",height:"100%"}},[n("ExtNews",{staticStyle:{width:"100%"},attrs:{extNews:t.extNews,height:t.height2}}),n("div",{staticClass:"separate",attrs:{id:"separate"}}),n("AwardsIfr",{staticStyle:{width:"100%"},attrs:{awards:t.extAwards,height:t.height1,rem:t.rem}})],1)],1)])},a=[],i=(n("14d9"),n("4a53")),s=n("f9d2"),o=n("b130"),c=n("9a77"),d=n("1585"),l=n("cb53"),u=n("6711"),h=n("fe71"),m=n("821b"),f=n("f636"),g={components:{NationalHoliday:i["a"],ExtNews:s["a"],KeyNews:o["a"],AwardsIfr:c["a"],CrayonClock:d["a"],CardComponent:l["a"]},name:"CompanyScreen",data(){return{loading:null,websock:null,lockReconnect:!1,timeout:6e4,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null,topic:"company",rem:"",titleHeight:"",height1:"",height2:"",membersHeight:"",clockHeight:"",holidayHeight:"",contentHeight:"",clocks:[],members:[],intAwards:[],extAwards:[],keyNews:[],extNews:[],holidays:[],timer:null}},computed:{},watch:{},methods:{getHeight(){console.log("获取宽高");var t=document.documentElement,e=t.clientWidth||document.body.clientWidth;const n=Math.ceil(e/115);document.documentElement.style.fontSize=n+"px",this.rem=n+"px",console.log(n);var r=window.innerHeight;const a=Math.round(.06*r),i=Math.round(.08*r),s=Math.round(.42*r),o=Math.round(.25*r),c=Math.round(.72*r),d=c/27,l=Math.round(.06*r);this.titleHeight=a+"px",this.clockHeight=i+"px",this.height1=s+"px",this.height2=o+"px",this.membersHeight=l+"px",this.holidayHeight=c+"px",this.contentHeight=d+"px",console.log("titleHeight",this.titleHeight),console.log("clockHeight",this.clockHeight),console.log("height1",this.height1),console.log("height2",this.height2),console.log("holidayHeight",this.holidayHeight),console.log("contentHeight",this.contentHeight),console.log("membersHeight",this.membersHeight)},async getClocks(){const{data:t}=await Object(u["h"])(1);200==t.code&&(this.clocks=t.data)},async getMembers(){const{data:t}=await Object(u["k"])(1);console.log(t.data),200==t.code&&(this.members=t.data)},async getIntAwards(){const{data:t}=await Object(u["g"])(1);200==t.code&&(this.intAwards=t.data)},async getExtAwards(){const{data:t}=await Object(u["g"])(0);200==t.code&&(this.extAwards=t.data)},async getAreaVocations(){const{data:t}=await Object(f["c"])();200==t.code&&(console.log("areaVocations",t.data),this.holidays=t.data,this.holidays.push({key:"vocation",highlight:"pink",dates:new Date}))},initWebSocket:function(){var t="wss://api.board.ifi-cloud.com/websocket/"+this.topic;this.websock=new WebSocket(t),this.websock.onopen=this.websocketOnOpen,this.websock.onerror=this.websocketOnError,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketOnOpen:function(){this.start()},websocketOnError:function(t){console.log("websocket 连接错误"+t),this.initWebSocket()},websocketSend:function(t){this.websock.send(t)},websocketonmessage:function(t){this.reset(),"UPDATE_TEAM"==t.data&&this.getMembers(),"UPDATE_NEWS"==t.data&&this.getKeyNews(),"UPDATE_SHOWS"==t.data&&this.getShows(),"UPDATE_AWARDS"==t.data&&(this.getIntAwards(),this.getExtAwards()),"UPDATE_VACATION"==t.data&&this.getAreaVocations(),"UPDATE_CLOCK"==t.data&&this.getClocks()},websocketclose:function(){},reconnet(){var t=this;t.lockReconnect||(t.lockReconnect=!0,t.timeoutnum&&clearTimeout(t.timeoutnum),t.timeoutnum=setTimeout(()=>{t.initWebSocket(),t.lockReconnect=!1},5e3))},reset(){var t=this;clearTimeout(t.timeoutObj),clearTimeout(t.serverTimeoutObj),t.start()},start(){var t=this;t.timeoutObj&&clearTimeout(t.timeoutObj),t.serverTimeoutObj&&clearTimeout(t.serverTimeoutObj),t.timeoutObj=setTimeout(()=>{if(1===t.websock.readyState){const e={isHeart:!0,topic:this.topic,context:"心跳中"};t.websock.send(JSON.stringify(e))}else t.reconnet();t.serverTimeoutObj=setTimeout(()=>{t.websock.close()},t.timeout)},t.timeout)},async getKeyNews(){const{data:t}=await Object(h["e"])();200==t.code&&(this.keyNews=t.data)},async getShows(){const{data:t}=await Object(m["e"])();200==t.code&&(this.extNews=t.data)}},created(){},mounted(){const t=this;window.onresize=()=>(()=>{t.getHeight()})(),this.initWebSocket(),this.getClocks(),this.getMembers(),this.getIntAwards(),this.getExtAwards(),this.getKeyNews(),this.getShows(),this.getAreaVocations(),setTimeout(()=>{this.getHeight()},1e3),this.timer=setInterval(()=>{this.getAreaVocations()},6e4)},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){this.websocketclose()},activated(){}},b=g,p=(n("ac10"),n("2877")),y=Object(p["a"])(b,r,a,!1,null,"10257aa2",null);e["default"]=y.exports},c67e:function(t,e,n){"use strict";n("e468")},cb53:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CardComponent"},[n("div",{staticClass:"list",style:"width:"+t.width,attrs:{id:"list"}},[n("div",{staticClass:"list-content-contain"},[t.members.length>0?n("div",{staticClass:"list-content",style:"height:"+t.height,attrs:{speed:41}},t._l(t.members,(function(e,r){return n("Transition",{key:r,attrs:{name:"changeShow",appear:""}},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isShow[r],expression:"isShow[index]"}]},t._l(e,(function(e){return n("el-col",{key:e.memberId,attrs:{xs:12,sm:12,lg:4}},[n("div",{staticStyle:{"text-align":"center"}},[null===e.avatar?n("el-avatar",{staticClass:"avatar",staticStyle:{width:"3.5rem",height:"3.5rem"},attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}):n("el-avatar",{staticClass:"avatar",staticStyle:{width:"3.5rem",height:"3.5rem"},attrs:{src:t.base_api+e.avatar}}),e.memberName.length<9?n("div",{staticStyle:{"font-size":"0.8rem","font-weight":"600"}},[t._v(t._s(e.memberName))]):n("div",{staticStyle:{"font-size":"0.8rem","font-weight":"bold"}},[t._v(t._s(e.memberName))])],1)])})),1)],1)})),1):n("div",{staticClass:"list-content flex-center",style:"font-family: Arial; color: #ccc; height:"+t.height+"px; font-size: 1.2rem;"},[t._v("No information")])])])])},a=[],i=n("1e5c"),s={components:{autoscroll:i["a"]},name:"CardComponent",props:{height:{type:String,default:"2.4rem"},width:{type:String},rem:{type:String},members:{type:Array,default:function(){return[]}}},data(){return{base_api:"https://api.board.ifi-cloud.com",isShow:[],timer:null}},computed:{},watch:{rem:{handler:function(){document.documentElement.style.fontSize=this.rem,console.log("CardComponent change document rem"+this.rem)},immediate:!0},members:{handler:function(){for(var t=this.members.length,e=0;e<t;e++)this.$set(this.isShow,e,!1);this.$set(this.isShow,0,!0),this.clear(),this.changeIsShow()},immediate:!0}},methods:{changeIsShow(){var t=this.members.length;if(1!=t){var e=0;this.timer=setInterval(()=>{this.$set(this.isShow,(e+1)%t,!0),this.$set(this.isShow,e,!1),e=(e+1)%t},1e4)}},clear(){clearInterval(this.timer),this.timer=null}},created(){this.changeIsShow()},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},o=s,c=(n("3222"),n("2877")),d=Object(c["a"])(o,r,a,!1,null,"3f42fcea",null);e["a"]=d.exports},cfd6:function(t,e,n){},e468:function(t,e,n){},efde:function(t,e,n){"use strict";n("cfd6")},f636:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}));var r=n("751a"),a=n("4360");function i(){return Object(r["a"])({url:"/info_screen/vocation/areaVocations",method:"get"})}function s(){return Object(r["a"])({url:"/info_screen/vocation/vocationDates",method:"get",headers:{token:a["a"].getters.token}})}function o(t){return Object(r["a"])({url:"/info_screen/vocation/date/add",method:"post",data:t,headers:{token:a["a"].getters.token}})}function c(t,e){return Object(r["a"])({url:"/info_screen/vocation/delete/"+t+"/"+e,method:"delete",headers:{token:a["a"].getters.token}})}},f9d2:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ExtNew"},[n("div",{staticClass:"key-news"},[n("div",{staticClass:"news-box"},[n("div",{staticClass:"news-tip"},[t._v("Ext. News")]),n("autoscroll",{attrs:{height:t.height,speed:30}},[0===t.extNews.length?n("div",{staticStyle:{padding:"5rem","font-size":"3rem"}},[t._v(" None Ext. News ")]):t._e(),t._l(t.extNews,(function(e){return n("div",{key:e.showId,staticClass:"news-content"},[n("el-row",{staticClass:"news-item"},[n("el-col",{staticStyle:{"margin-right":"1rem"},attrs:{span:4}},[0===e.memberId||null===e.memberId?n("div",{staticClass:"news-publish-box"},[n("el-avatar",{staticStyle:{width:"5rem",height:"5rem"},attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}),n("div",{staticStyle:{"font-size":"1rem","margin-top":"6px",color:"rgba(255, 255, 255,0.8)","word-break":"break-all","font-weight":"600"}},[t._v(" "+t._s(e.publisher))])],1):n("div",{staticClass:"news-publish-box"},[n("el-avatar",{staticStyle:{width:"5rem",height:"5rem"},attrs:{src:t.base_api+e.avatar}}),n("div",{staticStyle:{"font-size":"1rem","margin-top":"6px",color:"rgba(255, 255, 255,0.8)","word-break":"break-all","font-weight":"600"}},[t._v(" "+t._s(e.memberName))])],1)]),n("el-col",{attrs:{span:20}},[n("div",{staticStyle:{"line-height":"1.5em","word-break":"keep-all","text-align":"justify","text-justify":"distribute-all-lines","font-size":"1.4rem","font-weight":"600"}},[t._v(" "+t._s(e.message))]),n("div",{staticStyle:{"font-size":"1rem","margin-top":"10px",color:"rgba(255, 255, 255,0.5)","text-align":"end"}},[t._v(" "+t._s(e.gmtCreate))]),n("div",{staticStyle:{"font-size":"1rem","margin-top":"3px",color:"rgba(255, 255, 255,0.5)","text-align":"end"}},[t._v(" "+t._s(e.title))])])],1)],1)}))],2)],1)])])},a=[],i=n("821b"),s=n("1e5c"),o={components:{autoscroll:s["a"]},name:"ExtNews",props:{height:{type:String,default:"15.5rem"},rem:{type:String,default:""},extNews:{type:Array,default:function(){return[]}}},data(){return{data:[],base_api:"https://api.board.ifi-cloud.com"}},computed:{},watch:{rem:{handler:function(){document.documentElement.style.fontSize=this.rem,console.log("CardComponent change document rem"+this.rem)},immediate:!0}},methods:{async getShows(){const{data:t}=await Object(i["e"])();200==t.code&&(this.data=t.data)}},created(){},mounted(){this.getShows()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},c=o,d=(n("364e"),n("2877")),l=Object(d["a"])(c,r,a,!1,null,"1977e2d6",null);e["a"]=l.exports},fe71:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return u}));var r=n("751a"),a=n("4360");function i(){return Object(r["a"])({url:"/info_screen/keynew/list",method:"get",headers:{token:a["a"].getters.token}})}function s(t){return Object(r["a"])({url:"/info_screen/keynew/insert",method:"post",data:t,headers:{token:a["a"].getters.token}})}function o(t){return Object(r["a"])({url:"/info_screen/keynew/batchAdd",method:"post",data:t,headers:{token:a["a"].getters.token}})}function c(){return Object(r["a"])({url:"/info_screen/keynew/unexpiredNews",method:"get"})}function d(t){return Object(r["a"])({url:"/info_screen/keynew/updateIsExpire/"+t,method:"get",headers:{token:a["a"].getters.token}})}function l(t){return Object(r["a"])({url:"/info_screen/keynew/updateKeyNew",method:"post",headers:{token:a["a"].getters.token},data:t})}function u(t){return Object(r["a"])({url:"/info_screen/keynew/delete/"+t,method:"delete",headers:{token:a["a"].getters.token}})}}}]);