(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66d9d88f"],{1261:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"a",(function(){return d})),a.d(e,"e",(function(){return l})),a.d(e,"g",(function(){return u})),a.d(e,"b",(function(){return f}));var i=a("cee4");console.log("https://api.board.ifi-cloud.com","地址");const o=i["a"].create({baseURL:"https://api.board.ifi-cloud.com/vote",timeout:1e4});o.interceptors.request.use(t=>t,t=>Promise.reject(t)),o.interceptors.response.use(t=>{const e=t.data;return e},t=>Promise.reject(t));var n=o;function s(){return n({url:"/getVotingScore",method:"get"})}function r(){return n({url:"/reset",method:"get"})}function c(t){return n({url:"/setTeamId",method:"post",data:t})}function d(){return n({url:"/getStoId",method:"get"})}function l(t){return n({url:"/setState",method:"post",data:t})}function u(t){return n({url:"/voting",method:"post",data:t})}function f(){return n({url:"/getTeamId",method:"get"})}},"3b94":function(t,e,a){},"487c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"switch",on:{click:t.toSetState}},[a("el-switch",{attrs:{disabled:"","active-color":"#409EFF","inactive-color":"#888"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),a("li",{staticClass:"el-icon-picture-outline",on:{click:t.bigImg}}),t._m(0),a("div",{staticClass:"echart-box"},[a("div",{staticStyle:{margin:"2rem 0 0 1rem"},style:{width:"90%",height:"86vh"},attrs:{id:"myChart"}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.qrCodeShow,expression:"qrCodeShow"}],staticClass:"canvas",on:{click:t.closeQrcImg}},[a("canvas",{attrs:{id:"canvas"}})])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("9fc9")}}),i("div",{staticClass:"title"},[t._v("2024春茗节目投票")])])}],n=(a("14d9"),a("1261")),s=a("d055"),r=a.n(s),c={data(){return{totalTicketSum:[],solvedTicketSum:[],unsolvedTicketSum:[],condition1:{area:"all",product:"all",type:"total",days:7},condition2:{area:"all",product:"all",type:"solved",days:7},condition3:{area:"all",product:"all",type:"unsolved",days:7},options:{xAxis:{max:"dataMax",show:!1},yAxis:{type:"category",data:[],inverse:!0,axisLine:{show:!1},axisTick:{show:!1},animationDuration:300,animationDurationUpdate:300,max:1,axisLabel:{inside:!1,textStyle:{fontSize:"50",color:"#ffffff",fontWeight:"bold"},margin:20}},color:["#f6cb91","#ff0000","#f6cb91","#ff0000","#8e84b8"],textStyle:{fontSize:18},grid:{left:"18% "},series:[{realtimeSort:!0,name:"",type:"bar",barWidth:100,data:[0,0],label:{show:!0,position:"right",valueAnimation:!0,color:"#ffffff",fontSize:80,distance:25,offset:[0,10]},itemStyle:{normal:{color:function(t){let e=["#FF7F00 ","#ffff00","#66CCFF","#99cc33","#8e84b8"];return e[t.dataIndex]}}}}],animationDuration:0,animationDurationUpdate:3e3,animationEasing:"linear",animationEasingUpdate:"linear"},qrCodeShow:!1,firstLabel:["不再犹豫","手扶拖拉机\n斯基很酷","我爱上班","群英荟萃"],canEditState:!0,teams:[],a:-1,b:-1,state:!1}},methods:{toSetState(){let t=this;if(console.log(this.canEditState),!this.canEditState)return;if(this.canEditState=!1,setTimeout(()=>{this.canEditState=!0},2e3),console.log("state:"+t.state),t.state)return void Object(n["d"])().then(e=>{t.state=e.data.state});let e={state:!0};Object(n["e"])(e).then(e=>{t.state=e.data.state})},getId(){var t=this;Object(n["b"])().then(e=>{if(200==e.code){let a=JSON.parse(e.data);for(let e=0;e<5;e++)a[e]&&(t.a<0?t.a=e:t.b<0&&(t.b=e));t.options.yAxis.data=[],t.options.yAxis.data.push(t.firstLabel[t.a]),t.options.yAxis.data.push(t.firstLabel[t.b]),t.drawLine(),t.getResult()}})},qrCode(){var t=document.getElementById("canvas");r.a.toCanvas(t,window.location.origin+"/#/act/votedv2/index2",{margin:2,height:200,width:500},(function(t){t?console.error(t):console.log("success!")}))},bigImg(){this.qrCodeShow=!0,this.qrCode()},drawLine(){var t=this;let e=t.$echarts.init(document.getElementById("myChart"));function a(){t.getResult().then(a=>{t.options.series[0].data=a,e.setOption({series:[{type:"bar",data:t.options.series[0].data}]})})}a(),setInterval((function(){a()}),1e3),e.setOption(t.options)},async getResult(){let t=await Object(n["c"])(),e=[];if(200==t.code){let a=t.data;return e[0]=a[this.a+1],e[1]=a[this.b+1],this.state=a["state"],e}},closeQrcImg(){this.qrCodeShow=!1}},mounted(){document.title="春茗节目投票",this.getId()}},d=c,l=(a("5466"),a("2877")),u=Object(l["a"])(d,i,o,!1,null,"39f9d886",null);e["default"]=u.exports},5466:function(t,e,a){"use strict";a("3b94")},"9fc9":function(t,e,a){t.exports=a.p+"static/img/actLogo.4fc9d083.png"}}]);