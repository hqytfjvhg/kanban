(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d9fbfa6"],{"07a4":function(e,t,c){},"534f":function(e,t,c){e.exports=c.p+"static/img/logo1.0e863b8e.png"},"59ce":function(e,t,c){"use strict";c.d(t,"e",(function(){return i})),c.d(t,"l",(function(){return d})),c.d(t,"f",(function(){return a})),c.d(t,"i",(function(){return o})),c.d(t,"m",(function(){return h})),c.d(t,"g",(function(){return r})),c.d(t,"a",(function(){return l})),c.d(t,"c",(function(){return u})),c.d(t,"j",(function(){return k})),c.d(t,"d",(function(){return f})),c.d(t,"b",(function(){return b})),c.d(t,"k",(function(){return g})),c.d(t,"h",(function(){return m}));var s=c("751a"),n=c("4360");function i(){return Object(s["a"])({url:"/ifi/vote/getUUID",method:"get"})}function d(e,t,c){return Object(s["a"])({url:"/ifi/vote/set/"+e+"/"+t+"/"+c,method:"get"})}function a(){return Object(s["a"])({url:"/ifi/vote/get",method:"get"})}function o(e){return Object(s["a"])({url:"/ifi/vote/reset",method:"get",data:e})}function h(e){return Object(s["a"])({url:"/ifi/vote/add",method:"post",data:e})}function r(){return Object(s["a"])({url:"/ifi/vote/result",method:"get"})}function l(e){return console.log(e),Object(s["a"])({url:"/info_screen/ticket/add",method:"post",data:e,headers:{token:n["a"].getters.token}})}function u(e){return Object(s["a"])({url:"/info_screen/ticket/delete/"+e,method:"delete",headers:{token:n["a"].getters.token}})}function k(e){return Object(s["a"])({url:"/info_screen/ticket/resolve",method:"post",data:e,headers:{token:n["a"].getters.token}})}function f(){return Object(s["a"])({url:"/info_screen/ticket/products",method:"get",headers:{token:n["a"].getters.token}})}function b(e){return Object(s["a"])({url:"/info_screen/ticket/adds",method:"post",data:e,headers:{token:n["a"].getters.token}})}function g(e){return Object(s["a"])({url:"/info_screen/ticket/list/paged",method:"post",data:e,headers:{token:n["a"].getters.token}})}function m(e,t,c,i){return Object(s["a"])({url:"/info_screen/ticket/sum/"+e+"/"+t+"/"+c+"/"+i,method:"get",headers:{token:n["a"].getters.token}})}},7721:function(e,t,c){"use strict";c("07a4")},dafb:function(e,t,c){"use strict";c.r(t);var s=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"container",style:e.height},[e._m(0),c("div",{staticClass:"ticket-bottom"},[c("div",{staticStyle:{width:"93%","border-radius":"2px","padding-top":"20px"}},[c("div",{staticClass:"ticket-box"},[c("div",{staticClass:"ticket-content"},[c("div",{staticClass:"ticket-item"},[c("img",{attrs:{src:"https://linyi-oss.oss-cn-shenzhen.aliyuncs.com/1.jpg",alt:""},on:{click:function(t){return e.changeOne(1)}}}),c("el-checkbox",{attrs:{disabled:e.checkeds[0].disabled},on:{change:function(t){return e.handleCheckAllChange(1)}},model:{value:e.checkeds[0].checked,callback:function(t){e.$set(e.checkeds[0],"checked",t)},expression:"checkeds[0].checked"}},[e._v("时尚芭莎夜")])],1),c("div",{staticClass:"ticket-item"},[c("img",{attrs:{src:"https://linyi-oss.oss-cn-shenzhen.aliyuncs.com/2.jpg",alt:""},on:{click:function(t){return e.changeOne(2)}}}),c("el-checkbox",{attrs:{disabled:e.checkeds[1].disabled},on:{change:function(t){return e.handleCheckAllChange(2)}},model:{value:e.checkeds[1].checked,callback:function(t){e.$set(e.checkeds[1],"checked",t)},expression:"checkeds[1].checked"}},[e._v("春茗·凯韵")])],1)]),c("div",{staticClass:"ticket-content"},[c("div",{staticClass:"ticket-item"},[c("img",{attrs:{src:"https://linyi-oss.oss-cn-shenzhen.aliyuncs.com/3.jpg",alt:""},on:{click:function(t){return e.changeOne(3)}}}),c("el-checkbox",{attrs:{disabled:e.checkeds[2].disabled},on:{change:function(t){return e.handleCheckAllChange(3)}},model:{value:e.checkeds[2].checked,callback:function(t){e.$set(e.checkeds[2],"checked",t)},expression:"checkeds[2].checked"}},[e._v("十年")])],1),c("div",{staticClass:"ticket-item"},[c("img",{attrs:{src:"https://linyi-oss.oss-cn-shenzhen.aliyuncs.com/4.jpg",alt:""},on:{click:function(t){return e.changeOne(4)}}}),c("el-checkbox",{attrs:{disabled:e.checkeds[3].disabled},on:{change:function(t){return e.handleCheckAllChange(4)}},model:{value:e.checkeds[3].checked,callback:function(t){e.$set(e.checkeds[3],"checked",t)},expression:"checkeds[3].checked"}},[e._v("白蛇传")])],1)]),c("div",{staticClass:"ticket-content"},[c("div",{staticClass:"ticket-item"},[c("img",{attrs:{src:"https://linyi-oss.oss-cn-shenzhen.aliyuncs.com/5.jpg",alt:""},on:{click:function(t){return e.changeOne(5)}}}),c("el-checkbox",{attrs:{disabled:e.checkeds[4].disabled},on:{change:function(t){return e.handleCheckAllChange(5)}},model:{value:e.checkeds[4].checked,callback:function(t){e.$set(e.checkeds[4],"checked",t)},expression:"checkeds[4].checked"}},[e._v("野狼Disco")])],1),c("div",{staticClass:"ticket-item"})]),c("div",{staticClass:"bottom-button"},[c("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.confirmResult}},[e._v("立即提交")])],1),c("div",{staticClass:"ticket-tip"},[e._v("必选3个节目才可提交")])])])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top-box"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:c("534f"),alt:""}})]),s("div",{staticClass:"title"},[e._v("春茗节目评选")])])}],i=c("59ce"),d={name:"TicketIndex",data(){return{active:1,disabled:!0,checkeds:[{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1}],count:0,height:0,stoId:null}},created(){document.title="春茗节目投票",this.height="height:"+(window.innerHeight+50)+"px",this.getUuid()},methods:{getUuid(){Object(i["e"])().then(e=>{this.stoId="a"+e.data.data})},changeOne(e){if(this.disabled||!this.checkeds[e-1].disabled){this.checkeds[e-1].checked=!this.checkeds[e-1].checked,this.count=0;for(let e=0;e<5;e++)this.checkeds[e].checked&&this.count++;if(this.count>=3){for(let e=0;e<5;e++)this.checkeds[e].checked||(this.checkeds[e].disabled=!0);this.disabled=!1}else{for(let e=0;e<5;e++)this.checkeds[e].disabled=!1;this.disabled=!0}}},handleCheckAllChange(e){this.count=0;for(let t=0;t<5;t++)this.checkeds[t].checked&&this.count++;if(this.count>=3){for(let e=0;e<5;e++)this.checkeds[e].checked||(this.checkeds[e].disabled=!0);this.disabled=!1}else{for(let e=0;e<5;e++)this.checkeds[e].disabled=!1;this.disabled=!0}},confirmResult(){var e=this;let t=localStorage.getItem(e.stoId);if(t)return void this.$message({type:"error",message:"每个用户每轮只能投一次，提交失败",iconClass:" ",customClass:"el-message--error"});localStorage.setItem(e.stoId,"fff");let c={item1:this.checkeds[0].checked?1:0,item2:this.checkeds[1].checked?1:0,item3:this.checkeds[2].checked?1:0,item4:this.checkeds[3].checked?1:0,item5:this.checkeds[4].checked?1:0};Object(i["m"])(c).then(e=>{200==e.data.code&&this.$message({type:"success",message:"投票成功，感谢您的参与！",iconClass:" ",customClass:"el-message--success"})})}}},a=d,o=(c("7721"),c("2877")),h=Object(o["a"])(a,s,n,!1,null,"bb39ee7e",null);t["default"]=h.exports}}]);