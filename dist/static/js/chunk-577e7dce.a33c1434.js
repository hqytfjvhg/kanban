(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-577e7dce"],{"082f":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EolTable"},[a("div",{staticClass:"ticket-box",style:"height:"+t.height,attrs:{id:"ticket-box"}},[a("div",{staticClass:"ticket-title",attrs:{id:"ticket-title"}},[t._v("EOL")]),a("el-table",{ref:"stage",staticClass:"table-style",attrs:{data:t.eols,height:t.tableHeight,"cell-style":t.cellStyle,"header-cell-style":t.headerCellStyle,"header-row-style":t.headerRowStyle}},[a("el-table-column",{attrs:{align:"center",label:"Name",prop:"name"}}),a("el-table-column",{attrs:{align:"center",label:"2 M.QTY",prop:"mqty"}}),a("el-table-column",{attrs:{align:"center",label:"Last M.QTY",prop:"lastMQty"}}),a("el-table-column",{attrs:{align:"center",label:"This M.QTY",prop:"thisMQty"}})],1)],1)])},i=[],o={components:{},name:"EolTable",props:{width:{type:String,default:"600px"},height:{type:String,default:"320px"},tableHeight:{type:String,default:"200"},eols:{type:Array,default:function(){return[]}}},data(){return{data:[{name:"xxxx",item1:"5000",item2:"2560",item3:"1260"},{name:"yyyy",item1:"3000",item2:"1800",item3:"168"},{name:"zzzz",item1:"999",item2:"598",item3:"88"},{name:"bbbb",item1:"90",item2:"60",item3:"15"},{name:"cccc",item1:"90",item2:"60",item3:"15"},{name:"dddd",item1:"90",item2:"60",item3:"15"},{name:"eeee",item1:"90",item2:"60",item3:"15"}],ticketTableCellHeight:""}},computed:{},watch:{rem:{handler:function(){document.documentElement.style.fontSize=this.rem,console.log("CardComponent change document rem"+this.rem)},immediate:!0}},methods:{cellStyle({rowIndex:t,columnIndex:e}){const a=this.height.split("p",2);return this.ticketTableCellHeight=Math.ceil(Number(a[0])/7),t%2==0&&0==e?"font-size: 1rem;background: #15184d; border: none; border-right: 1px solid #252963; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":t%2==0&&2==e?"font-size: 1rem; background: #15184d; border: none; border-right: 1px solid #dddddd88; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":t%2==0&&4==e?"font-size: 1rem; background: #15184d; border: none; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":t%2==0?"font-size: 1rem; background: #15184d; border: none; border-right: 1px solid #252963; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":t%2==1&&0==e?"font-size: 1rem;background: #252963; border: none; border-right: 1px solid #171717; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":t%2==1&&2==e?"font-size: 1rem; background: #252963; border: none; border-right: 1px solid #171717; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":t%2==1&&4==e?"font-size: 1rem; background: #252963; border: none; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px":"font-size: 1rem; background: #252963; border: none; border-right: 1px solid #15184d; padding: 0;font-weight: 800; height: "+this.ticketTableCellHeight+"px"},headerCellStyle({columnIndex:t}){return 2==t?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; border-right: 1px solid #555; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":4==t?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; border-right: 1px solid #333; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;"},headerRowStyle(){return"height: 2.5rem;"},tableScroll(t,e){const a=t.bodyWrapper;setInterval(()=>{a.scrollHeight-a.clientHeight>10&&a.clientHeight+a.scrollTop<a.scrollHeight-1&&(a.scrollTop+=1,a.clientHeight+a.scrollTop>=a.scrollHeight-1&&setTimeout(()=>{a.scrollTop=0},3e3))},e)}},created(){},mounted(){const t=this.$refs.stage;this.tableScroll(t,50)},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},s=o,r=(a("da78"),a("2877")),n=Object(r["a"])(s,l,i,!1,null,"d0970ee2",null);e["a"]=n.exports},1227:function(t,e,a){"use strict";a("5417")},"1f6c":function(t,e,a){},"23d2":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eol-container"},[a("pageHeader",{attrs:{title:t.$t("eol.pageTitle"),describe:t.$t("eol.pageDesc")}}),a("div",{staticClass:"new-create",staticStyle:{"margin-left":"1rem"}},[a("el-button",{staticClass:"create-button",attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.openDialog(1)}}},[a("i",{staticClass:"el-icon-plus"}),t._v(t._s(t.$t("eol.add")))]),a("el-upload",{ref:"uploadRef",attrs:{action:t.base_api+"/info_screen/eol/excel/handler",multiple:"",limit:1,"on-success":t.handleSuccess,headers:t.headers,"before-upload":t.beforeUpload,"show-file-list":!1}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[a("i",{staticClass:"el-icon-upload2"}),t._v(t._s(t.$t("eol.batchAdd")))])],1),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"warning",size:"mini"},on:{click:function(e){t.visible1=!0}}},[a("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(t.$t("int.view"))+" ")]),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"mini"}},[a("i",{staticClass:"el-icon-download"}),a("a",{staticStyle:{margin:"0.3rem 0.5rem 0.3rem 0",color:"#fff"},attrs:{href:t.base_api+"/template/EOL.xlsx"}},[t._v(t._s(t.$t("excelTemplate.downloadTemplate")))])])],1),a("el-dialog",{attrs:{title:t.$t("eol.excelDialogTitle"),visible:t.visible},on:{close:function(e){t.visible=!1}}},[a("EolTable",{attrs:{data:t.excelData},on:{fatherMethod:t.closeEolTable}})],1),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.addFormVisible,width:"35%"},on:{close:function(e){t.addFormVisible=!1}}},[a("el-form",{ref:"formData",attrs:{model:t.formData,"label-width":"120px",rules:t.rules}},[a("el-form-item",{attrs:{label:t.$t("eol.name"),prop:"name"}},[a("el-input",{attrs:{type:"text",placeholder:t.$t("eol.namePlaceholder")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"mQty2:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input mqty2"},model:{value:t.formData.mqty,callback:function(e){t.$set(t.formData,"mqty",e)},expression:"formData.mqty"}})],1),a("el-form-item",{attrs:{label:"lastMQty:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input lastMQty"},model:{value:t.formData.lastMQty,callback:function(e){t.$set(t.formData,"lastMQty",e)},expression:"formData.lastMQty"}})],1),a("el-form-item",{attrs:{label:"thisMQty:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input thisMQty"},model:{value:t.formData.thisMQty,callback:function(e){t.$set(t.formData,"thisMQty",e)},expression:"formData.thisMQty"}})],1),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.addFormVisible=!1}}},[t._v(t._s(t.$t("int.cancel")))]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submit("formData")}}},[t._v(t._s(t.$t("eol.confirm")))])],1)])],1)],1),a("el-dialog",{attrs:{title:t.$t("eol.updateDialogTitle"),visible:t.updateFormVisible},on:{close:function(e){t.updateFormVisible=!1}}},[a("UpdateForm",{attrs:{form:t.updateForm},on:{fatherMethod:t.closeUpdateForm}})],1),a("el-table",{staticClass:"table-content",staticStyle:{margin:"0 auto"},attrs:{data:t.eols,border:!0,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:t.$t("eol.name"),align:"center"}}),a("el-table-column",{attrs:{prop:"mqty",label:"M.QTY2",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.mqty?a("span",[t._v("/")]):a("span",[t._v(t._s(e.row.mqty))])]}}])}),a("el-table-column",{attrs:{prop:"lastMQty",label:"Last M.QTY",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.lastMQty?a("span",[t._v("/")]):a("span",[t._v(t._s(e.row.lastMQty))])]}}])}),a("el-table-column",{attrs:{prop:"thisMQty",label:"This M.QTY",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.thisMQty?a("span",[t._v("/")]):a("span",[t._v(t._s(e.row.thisMQty))])]}}])}),a("el-table-column",{attrs:{label:t.$t("eol.operation"),align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{display:"flex","justify-content":"center",cursor:"pointer"}},[a("div",{staticStyle:{color:"#409eff"},on:{click:function(a){return t.update(e.row)}}},[a("span",[t._v(t._s(t.$t("eol.update")))])]),a("div",{staticStyle:{color:"#409eff","margin-left":"10px"},on:{click:function(a){return t.deleteEol(e.row.id)}}},[a("span",[t._v(t._s(t.$t("eol.delete")))])])])]}}])})],1),a("el-dialog",{attrs:{title:"EOL",visible:t.visible1,width:"45%"},on:{"update:visible":function(e){t.visible1=e}}},[a("EolTableBoard",{staticStyle:{margin:"0 0.5rem"},attrs:{eols:t.eols}})],1)],1)},i=[],o=a("e965"),s=a("4360"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eloTable"},[a("el-table",{staticClass:"table-content",staticStyle:{margin:"0 auto"},attrs:{data:t.data,border:!0,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:t.$t("eol.name"),align:"center"}}),a("el-table-column",{attrs:{prop:"mqty",label:"M.QTY2",align:"center"}}),a("el-table-column",{attrs:{prop:"lastMQty",label:"Last M.QTY",align:"center"}}),a("el-table-column",{attrs:{prop:"thisMQty",label:"This M.QTY",align:"center"}})],1),a("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v(" confirm ")]),a("el-button",{attrs:{type:"warning"},on:{click:t.cancle}},[t._v(" cancel ")])],1)],1)},n=[],c=a("751a");function d(t){return Object(c["a"])({url:"/info_screen/eol/add",method:"post",data:t,headers:{token:s["a"].getters.token}})}function m(t){return Object(c["a"])({url:"/info_screen/eol/batchAdd",method:"post",data:t,headers:{token:s["a"].getters.token}})}function p(t){return Object(c["a"])({url:"/info_screen/eol/delete/"+t,method:"delete",headers:{token:s["a"].getters.token}})}function u(t){return Object(c["a"])({url:"/info_screen/eol/update",method:"put",data:t,headers:{token:s["a"].getters.token}})}function h(){return Object(c["a"])({url:"/info_screen/eol/list",method:"get",headers:{token:s["a"].getters.token}})}var f={components:{},name:"eloTable",props:{data:{type:Array,required:!0,default:function(){return[]}}},data(){return{}},computed:{},watch:{},methods:{async confirm(){console.log(this.data);const{data:t}=await m(this.data);200==t.code?(this.$message({type:"success",message:"batchAdd successfully!"}),this.$emit("fatherMethod")):this.$message({type:"warning",message:t.msg})},cancle(){this.$emit("fatherMethod")}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},b=f,g=(a("64c3"),a("2877")),y=Object(g["a"])(b,r,n,!1,null,"30f25ad3",null),x=y.exports,v=a("082f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addForm"},[a("el-form",{attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{staticStyle:{width:"25rem"},attrs:{label:"name:"}},[a("el-input",{attrs:{type:"text",placeholder:"please input the name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{staticStyle:{width:"25rem"},attrs:{label:"mQty2:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input mqty2"},model:{value:t.form.mqty,callback:function(e){t.$set(t.form,"mqty",e)},expression:"form.mqty"}})],1),a("el-form-item",{staticStyle:{width:"25rem"},attrs:{label:"lastMQty:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input lastMQty"},model:{value:t.form.lastMQty,callback:function(e){t.$set(t.form,"lastMQty",e)},expression:"form.lastMQty"}})],1),a("el-form-item",{staticStyle:{width:"25rem"},attrs:{label:"thisMQty:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input thisMQty"},model:{value:t.form.thisMQty,callback:function(e){t.$set(t.form,"thisMQty",e)},expression:"form.thisMQty"}})],1),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("int.cancel")))]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submit("formData")}}},[t._v(t._s(t.$t("notice.confirm")))])],1)])],1)],1)},k=[],$={components:{},name:"addForm",data(){return{form:{}}},computed:{},watch:{},methods:{async submit(){console.log(this.form);const{data:t}=await d(this.form);200==t.code?(this.$message({type:"success",message:"add successfully!"}),this.form={},this.$emit("fatherMethod")):this.$message({type:"warning",message:t.msg})}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},_=$,M=(a("1227"),Object(g["a"])(_,w,k,!1,null,"539698e9",null)),T=M.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"updateForm"},[a("el-form",{attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{staticStyle:{width:"25rem"},attrs:{label:"name:"}},[a("el-input",{attrs:{type:"text",placeholder:"please input the name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{staticStyle:{width:"25rem"},attrs:{label:"mQty2:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input mqty2"},model:{value:t.form.mqty,callback:function(e){t.$set(t.form,"mqty",e)},expression:"form.mqty"}})],1),a("el-form-item",{staticStyle:{width:"25rem"},attrs:{label:"lastMQty:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input lastMQty"},model:{value:t.form.lastMQty,callback:function(e){t.$set(t.form,"lastMQty",e)},expression:"form.lastMQty"}})],1),a("el-form-item",{staticStyle:{width:"25rem"},attrs:{label:"thisMQty:"}},[a("el-input",{attrs:{type:"number",placeholder:"please input thisMQty"},model:{value:t.form.thisMQty,callback:function(e){t.$set(t.form,"thisMQty",e)},expression:"form.thisMQty"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.submit}},[t._v("confirm")])],1)],1)],1)},S=[],C={components:{},name:"updateForm",props:{form:{type:Object,required:!0,default:function(){return{}}}},data(){return{updateForm:this.form}},computed:{},watch:{form(){this.updateForm=this.form}},methods:{async submit(){console.log(this.updateForm);const{data:t}=await u(this.updateForm);200==t.code?(this.$message({type:"success",message:"update successfully!"}),this.updateForm={},this.$emit("fatherMethod")):this.$message({type:"warning",message:t.msg})}},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},D=C,E=(a("86c0"),Object(g["a"])(D,Q,S,!1,null,"68fe83ae",null)),F=E.exports,z={components:{EolTable:x,AddForm:T,UpdateForm:F,EolTableBoard:v["a"],pageHeader:o["a"]},name:"eol_index",data(){return{base_api:"https://api.board.ifi-cloud.com",headers:{token:s["a"].getters.token},excelData:[],visible:!1,title:"",updateFormVisible:!1,addFormVisible:!1,eols:[],updateForm:{},visible1:!1,eols:[],formData:{},dialogTitle:""}},computed:{rules(){return{name:[{required:!0,message:this.$t("eol.namePlaceholder"),trigger:"blur"}]}}},watch:{},methods:{handleSuccess(t){200==t.code&&(this.excelData=t.data,this.visible=!0,this.title="EOL Excel Data")},async getEols(){const{data:t}=await h();200==t.code?this.eols=t.data:this.$message({type:"warning",message:t.msg})},update(t){this.formData=JSON.parse(JSON.stringify(t)),this.dialogTitle=this.$t("eol.updateDialogTitle"),this.addFormVisible=!0},deleteEol(t){this.$confirm(this.$t("eol.deleteTips"),this.$t("eol.tips"),{confirmButtonText:this.$t("eol.confirm"),cancelButtonText:this.$t("eol.cancel"),type:"warning"}).then(async()=>{const{data:e}=await p(t);200==e.code?(this.getEols(),this.$message({type:"success",message:this.$t("clock.operationOK")})):this.$message({type:"warning",message:e.msg})}).catch(t=>{this.$message({type:"info",message:this.$t("clock.cancelTooltip")})})},openDialog(){this.dialogTitle=this.$t("eol.addDialogTitle"),this.addFormVisible=!0;for(let t in this.formData)this.formData[t]="";this.$nextTick(()=>{this.$refs.formData.clearValidate()})},closeEolTable(){this.$refs.uploadRef.clearFiles(),this.visible=!1,this.getEols()},closeAddForm(){this.addFormVisible=!1,this.getEols()},closeUpdateForm(){this.getEols(),this.updateFormVisible=!1},beforeUpload(t){const e=t.name,a="EOL.xlsx";if(e!==a)return this.$confirm("请上传EOL.xlsx",this.$t("eol.tips"),{confirmButtonText:this.$t("eol.confirm"),cancelButtonText:this.$t("eol.cancel"),type:"warning"}),!1},submit(t){this.$refs[t].validate(t=>{if(!t)return!1;this.dialogTitle==this.$t("eol.addDialogTitle")?d(this.formData).then(t=>{200==t.data.code&&this.$message({type:"success",message:this.$t("clock.operationOK")})}):u(this.formData).then(t=>{200==t.data.code&&this.$message({type:"success",message:this.$t("clock.operationOK")})});for(let e in this.formData)this.formData[e]="";this.addFormVisible=!1,this.getEols()})}},created(){},mounted(){this.getEols()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},H=z,O=(a("26eb"),Object(g["a"])(H,l,i,!1,null,"1167f290",null));e["default"]=O.exports},"26eb":function(t,e,a){"use strict";a("35c6")},"35c6":function(t,e,a){},"3e54":function(t,e,a){"use strict";a("9cc8")},4060:function(t,e,a){},5417:function(t,e,a){},"64c3":function(t,e,a){"use strict";a("f23f")},"86c0":function(t,e,a){"use strict";a("4060")},"9cc8":function(t,e,a){},da78:function(t,e,a){"use strict";a("1f6c")},e965:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{background:"#fff",height:"100px",padding:"10px 0"}},[a("div",{staticClass:"title",staticStyle:{"font-size":"30px",padding:"10px"}},[t._v(t._s(t.title))]),a("div",{staticClass:"content",staticStyle:{"font-size":"15px",padding:"10px",color:"#888"}},[t._v(t._s(t.describe)+" ")])])},i=[],o={components:{},name:"pageHeader",props:{title:{type:String,default:null},describe:{type:String,default:null}},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},s=o,r=(a("3e54"),a("2877")),n=Object(r["a"])(s,l,i,!1,null,"32773f74",null);e["a"]=n.exports},f23f:function(t,e,a){}}]);