(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5a0e2b6"],{1081:function(e,t,s){"use strict";s.r(t);var c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",style:e.height},[e._m(0),s("div",{staticClass:"ticket-bottom"},[s("div",{staticStyle:{width:"93%","border-radius":"2px","padding-top":"20px"}},[s("div",{staticClass:"ticket-box"},[s("div",{staticClass:"ticket-content"},[s("div",{staticClass:"ticket-item"},[s("img",{attrs:{src:e.src1,alt:""},on:{click:function(t){return e.changeOne(1)}}}),s("el-checkbox",{attrs:{disabled:e.checkeds[0].disabled},on:{change:function(t){return e.handleCheckAllChange(1)}},model:{value:e.checkeds[0].checked,callback:function(t){e.$set(e.checkeds[0],"checked",t)},expression:"checkeds[0].checked"}},[e._v(" "+e._s(e.title1))])],1),s("div",{staticClass:"ticket-item"},[s("img",{attrs:{src:e.src2,alt:""},on:{click:function(t){return e.changeOne(2)}}}),s("el-checkbox",{attrs:{disabled:e.checkeds[1].disabled},on:{change:function(t){return e.handleCheckAllChange(2)}},model:{value:e.checkeds[1].checked,callback:function(t){e.$set(e.checkeds[1],"checked",t)},expression:"checkeds[1].checked"}},[e._v(" "+e._s(e.title2))])],1)]),s("div",{staticClass:"ticket-content"},[s("div",{staticClass:"ticket-item"},[s("img",{attrs:{src:e.src3,alt:""},on:{click:function(t){return e.changeOne(3)}}}),s("el-checkbox",{attrs:{disabled:e.checkeds[2].disabled},on:{change:function(t){return e.handleCheckAllChange(3)}},model:{value:e.checkeds[2].checked,callback:function(t){e.$set(e.checkeds[2],"checked",t)},expression:"checkeds[2].checked"}},[e._v(" "+e._s(e.title3))])],1),s("div",{staticClass:"ticket-item"})]),s("div",{staticClass:"bottom-button"},[s("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.confirmResult}},[e._v("立即提交")])],1)])])])])},i=[function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"top-box"},[c("div",{staticClass:"logo"},[c("img",{attrs:{src:s("9fc9"),alt:""}})]),c("div",{staticClass:"title"},[e._v("春茗节目评选")])])}],d=(s("14d9"),s("1261")),n={data(){return{active:1,disabled:!0,checkeds:[{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1}],count:0,height:0,title1:"",title2:"",title3:"",src1:"",src2:"",src3:"",firstLabel:["不再犹豫","手扶拖拉机斯基很酷","我爱上班","群英荟萃"],first1:null,first2:null,first3:null,stoId:null}},created(){document.title="春茗节目投票",this.height="height:"+(window.innerHeight+50)+"px",this.getUuid()},mounted(){this.getId()},methods:{getUuid(){Object(d["a"])().then(e=>{this.stoId=e.data.stoId})},getId(){var e=this;Object(d["b"])().then(t=>{if(200==t.code){let s=JSON.parse(t.data);e.title1="",e.title2="",e.title3="";for(let t=0;t<5;t++)1==s[t]&&(e.title1?e.title2?e.title3||(e.title3=e.firstLabel[t],e.first3=t,e.src3="https://linyi-oss.oss-cn-shenzhen.aliyuncs.com/"+(t+1)+".jpg"):(e.title2=e.firstLabel[t],e.first2=t,e.src2="https://linyi-oss.oss-cn-shenzhen.aliyuncs.com/"+(t+1)+".jpg"):(e.title1=e.firstLabel[t],e.first1=t,e.src1="https://linyi-oss.oss-cn-shenzhen.aliyuncs.com/"+(t+1)+".jpg"))}})},changeOne(e){if(this.disabled||!this.checkeds[e-1].disabled){this.checkeds[e-1].checked=!this.checkeds[e-1].checked,this.count=0;for(let e=0;e<3;e++)this.checkeds[e].checked&&this.count++;if(this.count>=1){for(let e=0;e<3;e++)this.checkeds[e].checked||(this.checkeds[e].disabled=!0);this.disabled=!1}else{for(let e=0;e<3;e++)this.checkeds[e].disabled=!1;this.disabled=!0}}},handleCheckAllChange(e){this.count=0;for(let t=0;t<3;t++)this.checkeds[t].checked&&this.count++;if(this.count>=1){for(let e=0;e<3;e++)this.checkeds[e].checked||(this.checkeds[e].disabled=!0);this.disabled=!1}else{for(let e=0;e<3;e++)this.checkeds[e].disabled=!1;this.disabled=!0}},confirmResult(){var e=this;let t=localStorage.getItem(e.stoId);if(t)return void this.$message({type:"error",message:"每个用户每轮只能投一次，提交失败"});let s=[];if(this.checkeds[0].checked)for(let c=0;c<5;c++)c==e.first1?s.push(1):s.push(0);else if(this.checkeds[1].checked)for(let c=0;c<5;c++)c==e.first2?s.push(1):s.push(0);else if(this.checkeds[2].checked)for(let c=0;c<5;c++)c==e.first2?s.push(1):s.push(0);Object(d["g"])(s).then(s=>{200==s.code?(t||localStorage.setItem(e.stoId,"fff"),this.$message({type:"success",message:"投票成功，感谢您的参与！"})):this.$message({type:"error",message:s.respMsg,iconClass:" ",customClass:"el-message--error"})})}}},a=n,l=(s("62d7"),s("2877")),r=Object(l["a"])(a,c,i,!1,null,"2aab9446",null);t["default"]=r.exports},1261:function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"d",(function(){return a})),s.d(t,"f",(function(){return l})),s.d(t,"a",(function(){return r})),s.d(t,"e",(function(){return o})),s.d(t,"g",(function(){return h})),s.d(t,"b",(function(){return u}));var c=s("cee4");console.log("https://api.board.ifi-cloud.com","地址");const i=c["a"].create({baseURL:"https://api.board.ifi-cloud.com/vote",timeout:1e4});i.interceptors.request.use(e=>e,e=>Promise.reject(e)),i.interceptors.response.use(e=>{const t=e.data;return t},e=>Promise.reject(e));var d=i;function n(){return d({url:"/getVotingScore",method:"get"})}function a(){return d({url:"/reset",method:"get"})}function l(e){return d({url:"/setTeamId",method:"post",data:e})}function r(){return d({url:"/getStoId",method:"get"})}function o(e){return d({url:"/setState",method:"post",data:e})}function h(e){return d({url:"/voting",method:"post",data:e})}function u(){return d({url:"/getTeamId",method:"get"})}},"62d7":function(e,t,s){"use strict";s("8dc3")},"8dc3":function(e,t,s){},"9fc9":function(e,t,s){e.exports=s.p+"static/img/actLogo.4fc9d083.png"}}]);