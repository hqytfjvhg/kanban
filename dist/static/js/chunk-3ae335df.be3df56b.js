(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ae335df"],{"191b":function(e,t,a){"use strict";a("db9d")},"3e54":function(e,t,a){"use strict";a("9cc8")},"9cc8":function(e,t,a){},cd05:function(e,t,a){"use strict";a.d(t,"k",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"p",(function(){return o})),a.d(t,"h",(function(){return i})),a.d(t,"o",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"l",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"m",(function(){return b})),a.d(t,"e",(function(){return m})),a.d(t,"i",(function(){return f})),a.d(t,"a",(function(){return g})),a.d(t,"n",(function(){return h})),a.d(t,"f",(function(){return v})),a.d(t,"j",(function(){return _})),a.d(t,"b",(function(){return y}));var l=a("751a"),n=a("4360");function r(e){return Object(l["a"])({url:"/info_screen/fdAll/saveBatch",data:e,method:"post",headers:{token:n["a"].getters.token}})}function s(){return Object(l["a"])({url:"/info_screen/fdAll/list",method:"get",headers:{token:n["a"].getters.token}})}function o(e){return Object(l["a"])({url:"/info_screen/fdSaleStatus/saveBatch",data:e,method:"post",headers:{token:n["a"].getters.token}})}function i(){return Object(l["a"])({url:"/info_screen/fdSaleStatus/list",method:"get",headers:{token:n["a"].getters.token}})}function c(e){return Object(l["a"])({url:"/info_screen/fdSaleMonth/saveBatch",data:e,method:"post",headers:{token:n["a"].getters.token}})}function u(){return Object(l["a"])({url:"/info_screen/fdSaleMonth/list",method:"get",headers:{token:n["a"].getters.token}})}function d(e){return Object(l["a"])({url:"/info_screen/fdDeptAll/saveBatch",data:e,method:"post",headers:{token:n["a"].getters.token}})}function p(){return Object(l["a"])({url:"/info_screen/fdDeptAll/list",method:"get",headers:{token:n["a"].getters.token}})}function b(e){return Object(l["a"])({url:"/info_screen/fdDeptMonth/saveBatch",data:e,method:"post",headers:{token:n["a"].getters.token}})}function m(){return Object(l["a"])({url:"/info_screen/fdDeptMonth/list",method:"get",headers:{token:n["a"].getters.token}})}function f(e){return Object(l["a"])({url:"/info_screen/fdBalance/saveBatch",data:e,method:"post",headers:{token:n["a"].getters.token}})}function g(){return Object(l["a"])({url:"/info_screen/fdBalance/list",method:"get",headers:{token:n["a"].getters.token}})}function h(e){return Object(l["a"])({url:"/info_screen/fdPurchase/saveBatch",data:e,method:"post",headers:{token:n["a"].getters.token}})}function v(){return Object(l["a"])({url:"/info_screen/fdPurchase/list",method:"get",headers:{token:n["a"].getters.token}})}function _(e){return Object(l["a"])({url:"/info_screen/fdCash/saveBatch",data:e,method:"post",headers:{token:n["a"].getters.token}})}function y(){return Object(l["a"])({url:"/info_screen/fdCash/list",method:"get",headers:{token:n["a"].getters.token}})}},d94a:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cash-container"},[a("pageHeader",{attrs:{title:"现金流管理",describe:"这个模块管理公司现金流情况，包括周末余额和采购月度趋势以及现金流情况。点击以下按钮查看看板效果。"}}),a("div",{staticClass:"new-create",staticStyle:{"margin-left":"1rem"}},[a("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(t){return e.toPath("/info_screen/fdata/screen/money")}}},[e._v("查看看板")]),a("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.copyUrl()}}},[e._v("复制看板地址")])],1),a("el-divider"),a("div",{staticClass:"first-row"},[a("div",{staticStyle:{"font-size":"20px","border-bottom":"1px solid #e6ebf5",padding:"1rem"}},[e._v(" 余额状况 ")]),a("div",{staticClass:"new-create",staticStyle:{padding:"1rem"}},[a("el-upload",{attrs:{action:e.base_api+"/info_screen/fdBalance/excel/handler",multiple:"",limit:1,"on-success":e.handleSuccess1,headers:e.headers,"before-upload":e.beforeUpload1}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[a("i",{staticClass:"el-icon-upload2"}),e._v("Excel上传")])],1),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"mini"}},[a("i",{staticClass:"el-icon-download"}),a("a",{staticStyle:{margin:"0.3rem 0.5rem 0.3rem 0",color:"#fff"},attrs:{href:e.base_api+"/template/Department_Expense_Budget.xlsx"}},[e._v(e._s(e.$t("excelTemplate.downloadTemplate")))])])],1),a("div",{staticStyle:{padding:"0 1rem 1rem 1rem"}},[a("el-table",{staticClass:"table2",attrs:{data:e.listBalance,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"100",label:"序号/Index",align:"center"}}),a("el-table-column",{attrs:{align:"center",label:"账户类别/Account",prop:"category"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.category)+"/"+e._s(t.row.enCategory)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"周末余额/Balance",prop:"balance"}})],1)],1)]),a("div",{staticClass:"second-row"},[a("div",{staticStyle:{"font-size":"20px","border-bottom":"1px solid #e6ebf5",padding:"1rem"}},[e._v(" 采购月度趋势 ")]),a("div",{staticClass:"new-create",staticStyle:{padding:"1rem"}},[a("el-upload",{attrs:{action:e.base_api+"/info_screen/fdPurchase/excel/handler",multiple:"",limit:1,"on-success":e.handleSuccess2,headers:e.headers,"before-upload":e.beforeUpload2}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[a("i",{staticClass:"el-icon-upload2"}),e._v("Excel上传")])],1),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"mini"}},[a("i",{staticClass:"el-icon-download"}),a("a",{staticStyle:{margin:"0.3rem 0.5rem 0.3rem 0",color:"#fff"},attrs:{href:e.base_api+"/template/Monthly_Procurement_Trend.xlsx"}},[e._v(e._s(e.$t("excelTemplate.downloadTemplate")))])])],1),a("div",{staticStyle:{padding:"0 1rem 1rem 1rem"}},[a("el-table",{staticClass:"table2",attrs:{data:e.listPurchase,stripe:""}},[a("el-table-column",{attrs:{align:"center",label:"材料采购/Material purchase",prop:"name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+"/"+e._s(t.row.enName)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Jan.",prop:"value1"}}),a("el-table-column",{attrs:{align:"center",label:"Feb.",prop:"value2"}}),a("el-table-column",{attrs:{align:"center",label:"Mar.",prop:"value3"}}),a("el-table-column",{attrs:{align:"center",label:"Apr.",prop:"value4"}}),a("el-table-column",{attrs:{align:"center",label:"May.",prop:"value5"}}),a("el-table-column",{attrs:{align:"center",label:"Jun.",prop:"value6"}}),a("el-table-column",{attrs:{align:"center",label:"Jul.",prop:"value7"}}),a("el-table-column",{attrs:{align:"center",label:"Aug.",prop:"value8"}}),a("el-table-column",{attrs:{align:"center",label:"Sep.",prop:"value9"}}),a("el-table-column",{attrs:{align:"center",label:"Oct.",prop:"value10"}}),a("el-table-column",{attrs:{align:"center",label:"Nov.",prop:"value11"}}),a("el-table-column",{attrs:{align:"center",label:"Dec.",prop:"value12"}})],1)],1)]),a("div",{staticClass:"third-row"},[a("div",{staticStyle:{"font-size":"20px","border-bottom":"1px solid #e6ebf5",padding:"1rem"}},[e._v(" 现金流情况 ")]),a("div",{staticClass:"new-create",staticStyle:{padding:"1rem"}},[a("el-upload",{attrs:{action:e.base_api+"/info_screen/fdCash/excel/handler",multiple:"",limit:1,"on-success":e.handleSuccess3,headers:e.headers,"before-upload":e.beforeUpload3}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[a("i",{staticClass:"el-icon-upload2"}),e._v("Excel上传")])],1),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"mini"}},[a("i",{staticClass:"el-icon-download"}),a("a",{staticStyle:{margin:"0.3rem 0.5rem 0.3rem 0",color:"#fff"},attrs:{href:e.base_api+"/template/Cash_Flow_Situation.xlsx"}},[e._v(e._s(e.$t("excelTemplate.downloadTemplate")))])])],1),a("div",{staticStyle:{padding:"0 1rem 1rem 1rem"}},[a("el-table",{staticClass:"table2",attrs:{data:e.listCash,stripe:""}},[a("el-table-column",{attrs:{align:"center",label:"现金流量/Cash flow",prop:"name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+"/"+e._s(t.row.enName)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Jan.",prop:"value1"}}),a("el-table-column",{attrs:{align:"center",label:"Feb.",prop:"value2"}}),a("el-table-column",{attrs:{align:"center",label:"Mar.",prop:"value3"}}),a("el-table-column",{attrs:{align:"center",label:"Apr.",prop:"value4"}}),a("el-table-column",{attrs:{align:"center",label:"May.",prop:"value5"}}),a("el-table-column",{attrs:{align:"center",label:"Jun.",prop:"value6"}}),a("el-table-column",{attrs:{align:"center",label:"Jul.",prop:"value7"}}),a("el-table-column",{attrs:{align:"center",label:"Aug.",prop:"value8"}}),a("el-table-column",{attrs:{align:"center",label:"Sep.",prop:"value9"}}),a("el-table-column",{attrs:{align:"center",label:"Oct.",prop:"value10"}}),a("el-table-column",{attrs:{align:"center",label:"Nov.",prop:"value11"}}),a("el-table-column",{attrs:{align:"center",label:"Dec.",prop:"value12"}})],1)],1)]),a("el-dialog",{attrs:{title:e.dialog1.title,visible:e.dialog1.visible},on:{"update:visible":function(t){return e.$set(e.dialog1,"visible",t)}}},[a("el-table",{staticClass:"table2",attrs:{data:e.balance,stripe:""}},[a("el-table-column",{attrs:{align:"center",type:"index",width:"100",label:"序号/Index"}}),a("el-table-column",{attrs:{align:"center",label:"账户类别/Account",prop:"category"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.category)+"/"+e._s(t.row.enCategory)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"周末余额/Balance",prop:"balance"}})],1),a("el-button",{staticStyle:{display:"block",margin:"10px auto"},attrs:{type:"primary"},on:{click:e.submitBalance}},[e._v("保存")])],1),a("el-dialog",{attrs:{title:e.dialog2.title,visible:e.dialog2.visible,width:"85%"},on:{"update:visible":function(t){return e.$set(e.dialog2,"visible",t)}}},[a("el-table",{staticClass:"table2",attrs:{data:e.purchase,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"center",label:"材料采购/Material purchase",prop:"name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+"/"+e._s(t.row.enName)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Jan.",prop:"value1"}}),a("el-table-column",{attrs:{align:"center",label:"Feb.",prop:"value2"}}),a("el-table-column",{attrs:{align:"center",label:"Mar.",prop:"value3"}}),a("el-table-column",{attrs:{align:"center",label:"Apr.",prop:"value4"}}),a("el-table-column",{attrs:{align:"center",label:"May.",prop:"value5"}}),a("el-table-column",{attrs:{align:"center",label:"Jun.",prop:"value6"}}),a("el-table-column",{attrs:{align:"center",label:"Jul.",prop:"value7"}}),a("el-table-column",{attrs:{align:"center",label:"Aug.",prop:"value8"}}),a("el-table-column",{attrs:{align:"center",label:"Sep.",prop:"value9"}}),a("el-table-column",{attrs:{align:"center",label:"Oct.",prop:"value10"}}),a("el-table-column",{attrs:{align:"center",label:"Nov.",prop:"value11"}}),a("el-table-column",{attrs:{align:"center",label:"Dec.",prop:"value12"}})],1),a("el-button",{staticStyle:{display:"block",margin:"10px auto"},attrs:{type:"primary"},on:{click:e.submitPurchase}},[e._v("保存")])],1),a("el-dialog",{attrs:{title:e.dialog3.title,visible:e.dialog3.visible,width:"85%"},on:{"update:visible":function(t){return e.$set(e.dialog3,"visible",t)}}},[a("el-table",{staticClass:"table2",attrs:{data:e.cash,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"center",label:"现金流量/Cash flow",prop:"name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+"/"+e._s(t.row.enName)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Jan.",prop:"value1"}}),a("el-table-column",{attrs:{align:"center",label:"Feb.",prop:"value2"}}),a("el-table-column",{attrs:{align:"center",label:"Mar.",prop:"value3"}}),a("el-table-column",{attrs:{align:"center",label:"Apr.",prop:"value4"}}),a("el-table-column",{attrs:{align:"center",label:"May.",prop:"value5"}}),a("el-table-column",{attrs:{align:"center",label:"Jun.",prop:"value6"}}),a("el-table-column",{attrs:{align:"center",label:"Jul.",prop:"value7"}}),a("el-table-column",{attrs:{align:"center",label:"Aug.",prop:"value8"}}),a("el-table-column",{attrs:{align:"center",label:"Sep.",prop:"value9"}}),a("el-table-column",{attrs:{align:"center",label:"Oct.",prop:"value10"}}),a("el-table-column",{attrs:{align:"center",label:"Nov.",prop:"value11"}}),a("el-table-column",{attrs:{align:"center",label:"Dec.",prop:"value12"}})],1),a("el-button",{staticStyle:{display:"block",margin:"10px auto"},attrs:{type:"primary"},on:{click:e.submitCash}},[e._v("保存")])],1)],1)},n=[],r=(a("14d9"),a("e965")),s=a("cd05"),o=a("4360"),i={components:{pageHeader:r["a"]},name:"cash-data",data(){return{base_api:"https://api.board.ifi-cloud.com",headers:{token:o["a"].getters.token},cash:[],balance:[],purchase:[],dialog1:{title:"余额状况表",visible:!1},dialog2:{title:"采购月度趋势",visible:!1},dialog3:{title:"现金流情况",visible:!1},listCash:[],listBalance:[],listPurchase:[]}},computed:{},watch:{},methods:{toPath(e){"——"!=e&&this.$router.push({path:e})},handleSuccess1(e){200==e.code&&(console.log(e.data),this.balance=e.data,this.dialog1.visible=!0)},handleSuccess2(e){200==e.code&&(console.log(e.data),this.purchase=e.data,this.dialog2.visible=!0)},handleSuccess3(e){200==e.code&&(console.log(e.data),this.cash=e.data,this.dialog3.visible=!0)},async submitBalance(){const{data:e}=await Object(s["i"])(this.balance);200==e.code&&(this.dialog1.visible=!1,this.getListBalance())},async getListBalance(){const{data:e}=await Object(s["a"])();console.log(e.data),200==e.code&&(this.listBalance=e.data)},async submitPurchase(){const{data:e}=await Object(s["n"])(this.purchase);200==e.code&&(this.dialog2.visible=!1,this.getListPurchase())},async getListPurchase(){const{data:e}=await Object(s["f"])();console.log(e.data),200==e.code&&(this.listPurchase=e.data)},async submitCash(){const{data:e}=await Object(s["j"])(this.cash);200==e.code&&(this.dialog3.visible=!1,this.getListCash())},async getListCash(){const{data:e}=await Object(s["b"])();console.log(e.data),200==e.code&&(this.listCash=e.data)},copyUrl(){var e=window.location.host+"/#/info_screen/screen/finance/money",t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),this.$message({type:"success",message:"看板地址复制成功"}),document.body.removeChild(t)},beforeUpload1(e){console.log(e.name);const t=e.name,a="Balance_Status.xlsx";if(t!==a)return this.$confirm("请上传Balance_Status.xlsx",this.$t("eol.tips"),{confirmButtonText:this.$t("eol.confirm"),cancelButtonText:this.$t("eol.cancel"),type:"warning"}),!1},beforeUpload2(e){console.log(e.name);const t=e.name,a="Monthly_Procurement_Trend.xlsx";if(t!==a)return this.$confirm("请上传Monthly_Procurement_Trend.xlsx",this.$t("eol.tips"),{confirmButtonText:this.$t("eol.confirm"),cancelButtonText:this.$t("eol.cancel"),type:"warning"}),!1},beforeUpload3(e){console.log(e.name);const t=e.name,a="Cash_Flow_Situation.xlsx";if(t!==a)return this.$confirm("请上传Cash_Flow_Situation.xlsx",this.$t("eol.tips"),{confirmButtonText:this.$t("eol.confirm"),cancelButtonText:this.$t("eol.cancel"),type:"warning"}),!1}},created(){},mounted(){this.getListBalance(),this.getListCash(),this.getListPurchase()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},c=i,u=(a("191b"),a("2877")),d=Object(u["a"])(c,l,n,!1,null,"643b9376",null);t["default"]=d.exports},db9d:function(e,t,a){},e965:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{background:"#fff",height:"100px",padding:"10px 0"}},[a("div",{staticClass:"title",staticStyle:{"font-size":"30px",padding:"10px"}},[e._v(e._s(e.title))]),a("div",{staticClass:"content",staticStyle:{"font-size":"15px",padding:"10px",color:"#888"}},[e._v(e._s(e.describe)+" ")])])},n=[],r={components:{},name:"pageHeader",props:{title:{type:String,default:null},describe:{type:String,default:null}},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},s=r,o=(a("3e54"),a("2877")),i=Object(o["a"])(s,l,n,!1,null,"32773f74",null);t["a"]=i.exports}}]);