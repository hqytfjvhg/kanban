(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1578e174"],{"0e9a":function(t,e,n){"use strict";n("77fd")},1585:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"crayon-clock"},[n("div",{staticClass:"crayon-clock-time"},[12===t.timeFormat?n("div",{staticClass:"meridiem"},[t._v(t._s(t.amOrAp?"PM":"AM"))]):t._e(),n("div",{staticClass:"time flexCenter"},[t._v(" "+t._s(t.time)+" ")])]),n("div",{staticClass:"crayon-clock-date"},[n("div",{staticClass:"country",style:t.country.length>=7?t.country.length>=9?"font-size: 1.4rem;":"font-size: 1.6rem;":"font-size: 2rem;"},[t._v(t._s(t.country))]),n("div",{staticClass:"date"},[t._v(" "+t._s(t.week+" "+t.date)+" ")])])])])},o=[],i={name:"CrayonClock",components:{},props:{timeZone:{type:Number,required:!1,default:8},country:{type:String,required:!1,default:"China"},dateStyle:{type:String,required:!1,default:"letter-spacing: 0.1em;font-size: 14px;"},weekStyle:{type:String,required:!1,default:"font-size: 16px;"},timeFormat:{type:Number,required:!1,default:12}},data(){return{time:"",date:"",week:"",amOrAp:0,timerHelper:!1}},mounted(){this.timerHelper=setInterval(this.updateTime,1e3)},beforeDestroy(){this.timerHelper&&(clearInterval(this.timerHelper),this.timerHelper=!1)},methods:{zeroPadding(t,e){let n="";for(let r=0;r<e;r++)n+="0";return(n+t).slice(-e)},updateTime(){const t=["Sun.","Mon.","Tues.","Wed.","Thur.","Fri.","Sat."],e=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."],n=this.getZoneTime(this.timeZone);let r=n.getHours();12==this.timeFormat&&(this.amOrAp=r>=12?1:0,r=0===r?12:r>=13?r-12:r,this.time=this.zeroPadding(r,2)+":"+this.zeroPadding(n.getMinutes(),2)),24==this.timeFormat&&(this.time=this.zeroPadding(r,2)+":"+this.zeroPadding(n.getMinutes(),2)),this.date=this.zeroPadding(n.getDate(),2)+" "+e[n.getMonth()],this.week=t[n.getDay()]},getZoneTime(t){var e=new Date,n=e.getTime(),r=6e4*e.getTimezoneOffset(),o=r+n,i=o+36e5*t,a=new Date(i);return a}}},a=i,c=(n("efde"),n("2877")),s=Object(c["a"])(a,r,o,!1,null,"dc67b120",null);e["a"]=s.exports},2309:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return c}));var r=n("751a");function o(){return Object(r["a"])({url:"/info_screen/return/unsolvedTable",method:"get"})}function i(){return Object(r["a"])({url:"/info_screen/ticket/avgTicket",method:"get"})}function a(){return Object(r["a"])({url:"/info_screen/ticket/unsolvedTicket",method:"get"})}function c(){return Object(r["a"])({url:"/info_screen/stage/list",method:"get"})}},3709:function(t,e,n){},"60ac":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ProductStage"},[n("div",{staticClass:"ticket-box",style:"height:"+t.height,attrs:{id:"ticket-box"}},[n("div",{staticClass:"ticket-title",attrs:{id:"ticket-title"}},[t._v("Product Stage")]),n("el-table",{ref:"stage",staticClass:"table-style",attrs:{data:t.stages,height:"100",size:"mini","cell-style":t.cellStyle,"header-cell-style":t.headerCellStyle,"header-row-style":t.headerRowStyle}},[n("el-table-column",{attrs:{align:"center",prop:"product"}},[n("template",{slot:"header"},[t._v("Product")])],2),n("el-table-column",{attrs:{align:"center",label:"PP",prop:"pp",formatter:t.formatTime}}),n("el-table-column",{attrs:{align:"center",label:"MP",prop:"mp",formatter:t.formatTime}}),n("el-table-column",{attrs:{align:"center",label:"Despatch",prop:"despatch",formatter:t.formatTime}}),n("el-table-column",{attrs:{align:"center",label:"Launch",prop:"launch",formatter:t.formatTime}})],1)],1)])},o=[],i=n("2309"),a={components:{},name:"ProductStage",props:{height:{type:String,default:"339px"},rem:{type:String,default:""},stages:{type:Array,default:function(){return[]}}},data(){return{data:[],ticketTableCellHeight:""}},computed:{},watch:{rem:{handler:function(){document.documentElement.style.fontSize=this.rem,console.log("CardComponent change document rem"+this.rem)},immediate:!0}},methods:{async getStages(){const{data:t}=await Object(i["c"])();200==t.code&&(this.data=t.data)},cellStyle({rowIndex:t,columnIndex:e}){return this.ticketTableCellHeight=Math.ceil((this.height-5-3.8*this.rem)/6),t%2==0&&0==e?"background: #15184d; border: none; border-right: 1px solid #252963; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":t%2==0&&2==e?"font-size: 0.9rem; background: #15184d; border: none; border-right: 1px solid #dddddd88; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":t%2==0&&4==e?"font-size: 0.9rem; background: #15184d; border: none; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":t%2==0?"font-size: 0.9rem; background: #15184d; border: none; border-right: 1px solid #252963; padding: 0; font-weight: 600;height: "+this.ticketTableCellHeight+"px":t%2==1&&0==e?"background: #252963; border: none; border-right: 1px solid #171717; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":t%2==1&&2==e?"font-size: 0.9rem; background: #252963; border: none; border-right: 1px solid #171717; padding: 0; font-weight: 600;height: "+this.ticketTableCellHeight+"px":t%2==1&&4==e?"font-size: 0.9rem; background: #252963; border: none; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":"font-size: 0.9rem; background: #252963; border: none; border-right: 1px solid #15184d; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px"},headerCellStyle({columnIndex:t}){return 2==t?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; border-right: 1px solid #555; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":4==t?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; border-right: 1px solid #333; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;"},headerRowStyle(){return"height: 2.5rem;"},tableScroll(t,e){const n=t.bodyWrapper;setInterval(()=>{n.scrollHeight-n.clientHeight>10&&n.clientHeight+n.scrollTop<n.scrollHeight-1&&(n.scrollTop+=1,n.clientHeight+n.scrollTop>=n.scrollHeight-1&&setTimeout(()=>{n.scrollTop=0},3e3))},e)},formatTime(t,e){const n=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."];if(console.log(e),"Bates"===e.label){if(null===t.bates)return"/";const e=new Date(t.bates),r=e.getDate().toString(),o=e.getMonth(),i=e.getFullYear()-2e3;return r+"-"+n[o]+"-"+i}if("PP"===e.label){if(null===t.pp)return"/";const e=new Date(t.pp),r=e.getDate().toString(),o=e.getMonth(),i=e.getFullYear()-2e3;return r+"-"+n[o]+"-"+i}if("MP"===e.label){if(null===t.mp)return"/";const e=new Date(t.mp),r=e.getDate().toString(),o=e.getMonth(),i=e.getFullYear()-2e3;return r+"-"+n[o]+"-"+i}if("Despatch"===e.label){if(null===t.despatch)return"/";const e=new Date(t.despatch),r=e.getDate().toString(),o=e.getMonth(),i=e.getFullYear()-2e3;return r+"-"+n[o]+"-"+i}if("PR"===e.label){if(null===t.pr)return"/";const e=new Date(t.pr),r=e.getDate().toString(),o=e.getMonth(),i=e.getFullYear()-2e3;return r+"-"+n[o]+"-"+i}if("Launch"===e.label){if(null===t.launch)return"/";const e=new Date(t.launch),r=e.getDate().toString(),o=e.getMonth(),i=e.getFullYear()-2e3;return r+"-"+n[o]+"-"+i}return"format"}},created(){},mounted(){const t=this.$refs.stage;this.tableScroll(t,50),this.getStages()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},c=a,s=(n("e5b7"),n("2877")),l=Object(s["a"])(c,r,o,!1,null,"c6bbb6b6",null);e["a"]=l.exports},6711:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"w",(function(){return i})),n.d(e,"y",(function(){return a})),n.d(e,"v",(function(){return c})),n.d(e,"z",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"x",(function(){return u})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return g})),n.d(e,"h",(function(){return f})),n.d(e,"k",(function(){return m})),n.d(e,"g",(function(){return b})),n.d(e,"m",(function(){return p})),n.d(e,"p",(function(){return k})),n.d(e,"t",(function(){return w})),n.d(e,"q",(function(){return y})),n.d(e,"j",(function(){return v})),n.d(e,"s",(function(){return _})),n.d(e,"n",(function(){return S})),n.d(e,"o",(function(){return O})),n.d(e,"i",(function(){return C})),n.d(e,"u",(function(){return x})),n.d(e,"f",(function(){return T})),n.d(e,"A",(function(){return j})),n.d(e,"r",(function(){return H})),n.d(e,"C",(function(){return D})),n.d(e,"l",(function(){return P})),n.d(e,"B",(function(){return M}));var r=n("751a");function o(){return Object(r["a"])({url:"/info_screen/board/finance/all",method:"get"})}function i(t){return Object(r["a"])({url:"/info_screen/board/finance/outcomes/"+t,method:"get"})}function a(t){return Object(r["a"])({url:"/info_screen/board/finance/saleMonth/"+t,method:"get"})}function c(t){return Object(r["a"])({url:"/info_screen/board/finance/incomes/"+t,method:"get"})}function s(){return Object(r["a"])({url:"/info_screen/board/finance/sale/rate",method:"get"})}function l(t){return Object(r["a"])({url:"/info_screen/board/dept/all/"+t,method:"get"})}function d(t){return Object(r["a"])({url:"/info_screen/board/dept/month/"+t,method:"get"})}function u(t){return Object(r["a"])({url:"/info_screen/board/purchase/"+t,method:"get"})}function h(t){return Object(r["a"])({url:"/info_screen/board/cash/"+t,method:"get"})}function g(t){return Object(r["a"])({url:"/info_screen/board/balance/"+t,method:"get"})}function f(t){return Object(r["a"])({url:"/info_screen/board/clock/"+t,method:"get"})}function m(t){return Object(r["a"])({url:"/info_screen/board/member/"+t,method:"get"})}function b(t){return Object(r["a"])({url:"/info_screen/board/award/true/"+t,method:"get"})}function p(t){return Object(r["a"])({url:"/info_screen/board/unexpired/notices/"+t,method:"get"})}function k(){return Object(r["a"])({url:"/info_screen/board/productTesting/list",method:"get"})}function w(){return Object(r["a"])({url:"/info_screen/board/software/list",method:"get"})}function y(){return Object(r["a"])({url:"/info_screen/board/project/list",method:"get"})}function v(){return Object(r["a"])({url:"/info_screen/board/eol/list",method:"get"})}function _(){return Object(r["a"])({url:"/info_screen/board/return/list",method:"get"})}function S(){return Object(r["a"])({url:"/info_screen/board/monthOverstock/list",method:"get"})}function O(){return Object(r["a"])({url:"/info_screen/board/productStage/list",method:"get"})}function C(){return Object(r["a"])({url:"/info_screen/board/complaint/list",method:"get"})}function x(){return Object(r["a"])({url:"/info_screen/board/complaintUnsolved/list",method:"get"})}function T(){return Object(r["a"])({url:"/info_screen/board/avgDays",method:"get"})}function j(t){return Object(r["a"])({url:"/info_screen/board/avgDays/"+t,method:"get"})}function H(){return Object(r["a"])({url:"/info_screen/board/returnDays",method:"get"})}function D(t){return Object(r["a"])({url:"/info_screen/board/returnDays/"+t,method:"get"})}function P(){return Object(r["a"])({url:"/info_screen/board/monthOverstock/type",method:"get"})}function M(t){return Object(r["a"])({url:"/info_screen/board/monthOverstock/type/"+t,method:"get"})}},"700d":function(t,e,n){"use strict";n("93af")},"77fd":function(t,e,n){},8013:function(t,e,n){"use strict";n("3709")},"821b":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return u}));var r=n("751a"),o=n("4360");function i(){return Object(r["a"])({url:"/info_screen/show/list",method:"get",headers:{token:o["a"].getters.token}})}function a(t){return Object(r["a"])({url:"/info_screen/show/insert",method:"post",data:t,headers:{token:o["a"].getters.token}})}function c(t){return Object(r["a"])({url:"/info_screen/show/batchAdd",method:"post",data:t,headers:{token:o["a"].getters.token}})}function s(){return Object(r["a"])({url:"/info_screen/show/unexpiredShow",method:"get"})}function l(t){return Object(r["a"])({url:"/info_screen/show/updateIsExpire/"+t,method:"get",headers:{token:o["a"].getters.token}})}function d(t){return Object(r["a"])({url:"/info_screen/show/updateShow",method:"post",data:t,headers:{token:o["a"].getters.token}})}function u(t){return Object(r["a"])({url:"/info_screen/show/delete/"+t,method:"delete",headers:{token:o["a"].getters.token}})}},"93af":function(t,e,n){},"93f2":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return d}));var r=n("751a"),o=n("4360");function i(){return Object(r["a"])({url:"info_screen/urgentNotice/list/all",method:"get",headers:{token:o["a"].getters.token}})}function a(t){return Object(r["a"])({url:"/info_screen/urgentNotice/unexpiredNotices/"+t,method:"get"})}function c(t){return Object(r["a"])({url:"/info_screen/urgentNotice/updateIsExpire/"+t,method:"get",headers:{token:o["a"].getters.token}})}function s(t){return Object(r["a"])({url:"/info_screen/urgentNotice/updateUrgentNotice",method:"post",headers:{token:o["a"].getters.token},data:t})}function l(t){return Object(r["a"])({url:"/info_screen/urgentNotice/delete/"+t,method:"delete",headers:{token:o["a"].getters.token}})}function d(t){return Object(r["a"])({url:"/info_screen/urgentNotice/add",method:"post",headers:{token:o["a"].getters.token},data:t})}},"947d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t._m(0),n("div",{staticClass:"content-clock"},t._l(t.clocks,(function(e){return n("div",{key:e.clockId,style:{width:t.clockWidth,float:"left"}},[n("div",{staticClass:"clock-group",attrs:{id:"clock-group"}},[n("CrayonClock",{attrs:{timeZone:Number(e.clockTimezone),country:e.clockArea,timeFormat:e.timeFormat}})],1)])})),0),n("div",{staticStyle:{margin:"0 1rem"}},[n("el-col",{attrs:{xs:24,sm:24,lg:16}},[n("ProductStage",{attrs:{rem:t.rem,stages:t.productStages,height:t.tableHeight1}}),n("SpecialProjects",{staticStyle:{"margin-top":"10px"},attrs:{rem:t.rem,stages:t.specialProjectsStages,height:t.tableHeight2}})],1),n("el-col",{attrs:{xs:24,sm:24,lg:8}},[n("UrgentNotice",{staticStyle:{margin:"0 0.2rem 0 0.5rem",width:"100%"},attrs:{boxHeight:t.tableHeight1,height:t.urgentNoticeHeight,rem:t.rem,notices:t.showsData,noticeTitle:"Shows"}}),n("UrgentNotice",{staticStyle:{margin:"10px 0 0 0.5rem",width:"100%"},attrs:{boxHeight:t.tableHeight2,height:t.urgentNoticeHeight2,rem:t.rem,notices:t.notices,noticeTitle:"Urgent Notices"}})],1)],1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("h3",{staticClass:"header-title"},[t._v("Marketing")])])}],i=(n("14d9"),n("1585")),a=n("60ac"),c=n("ad4d"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ProductStage"},[n("div",{staticClass:"ticket-box",style:"height:"+t.height,attrs:{id:"ticket-box"}},[n("div",{staticClass:"ticket-title",attrs:{id:"ticket-title"}},[t._v("Special Projects")]),n("el-table",{ref:"stage",staticClass:"table-style",attrs:{data:t.stages,height:"100",size:"mini","cell-style":t.cellStyle,"header-cell-style":t.headerCellStyle,"header-row-style":t.headerRowStyle,"empty-text":t.emptyText}},[n("el-table-column",{attrs:{align:"center",label:"Product",prop:"name",width:"300px"}}),n("el-table-column",{attrs:{align:"center",label:"Date",prop:"productDate",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.row.productDate))+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"Content",prop:"content"}})],1)],1)])},l=[],d={components:{},name:"SpecialProjects",props:{height:{type:String,default:"339px"},rem:{type:String,default:""},stages:{type:Array,default:function(){return[]}}},data(){return{data:[],ticketTableCellHeight:"",emptyText:"No Data"}},computed:{},watch:{rem:{handler:function(){document.documentElement.style.fontSize=this.rem,console.log("CardComponent change document rem"+this.rem)},immediate:!0}},methods:{formatDate(t){let e=new Date(t);const n=e.getDate(),r=e.getMonth()+1,o=e.getFullYear();return`${n.toString().padStart(2,"0")}/${r.toString().padStart(2,"0")}/${o}`},cellStyle({rowIndex:t,columnIndex:e}){return this.ticketTableCellHeight=Math.ceil((this.height-5-3.8*this.rem)/6),t%2==0&&0==e?"background: #15184d; border: none; border-right: 1px solid #252963; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":t%2==0&&2==e?"font-size: 0.9rem; background: #15184d; border: none; border-right: 1px solid #dddddd88; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":t%2==0&&4==e?"font-size: 0.9rem; background: #15184d; border: none; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":t%2==0?"font-size: 0.9rem; background: #15184d; border: none; border-right: 1px solid #252963; padding: 0; font-weight: 600;height: "+this.ticketTableCellHeight+"px":t%2==1&&0==e?"background: #252963; border: none; border-right: 1px solid #171717; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":t%2==1&&2==e?"font-size: 0.9rem; background: #252963; border: none; border-right: 1px solid #171717; padding: 0; font-weight: 600;height: "+this.ticketTableCellHeight+"px":t%2==1&&4==e?"font-size: 0.9rem; background: #252963; border: none; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px":"font-size: 0.9rem; background: #252963; border: none; border-right: 1px solid #15184d; padding: 0;font-weight: 600; height: "+this.ticketTableCellHeight+"px"},headerCellStyle({columnIndex:t}){return 2==t?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; border-right: 1px solid #555; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":4==t?"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;":"font-weight: 600;background: #0f0938; white-space:nowrap; border: none; border-right: 1px solid #333; padding: 0; height:"+this.ticketTableCellHeight+"px; color: white;"},headerRowStyle(){return"height: 2.5rem;"},tableScroll(t,e){const n=t.bodyWrapper;setInterval(()=>{n.scrollHeight-n.clientHeight>10&&n.clientHeight+n.scrollTop<n.scrollHeight-1&&(n.scrollTop+=1,n.clientHeight+n.scrollTop>=n.scrollHeight-1&&setTimeout(()=>{n.scrollTop=0},2e3))},e)},formatTime(t,e){const n=["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."];if("Date"===e.label){if(null===t.date)return"/";const e=new Date(t.date),r=e.getDate().toString(),o=e.getMonth(),i=e.getFullYear()-2e3;return r+"-"+n[o]+"-"+i}return"format"}},created(){},async mounted(){const t=this.$refs.stage;await this.tableScroll(t,50)},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},u=d,h=(n("0e9a"),n("2877")),g=Object(h["a"])(u,s,l,!1,null,"13de4a78",null),f=g.exports,m=n("6711"),b=n("93f2"),p=n("821b"),k=n("c4c8"),w={components:{CrayonClock:i["a"],ProductStage:a["a"],UrgentNotice:c["a"],SpecialProjects:f},name:"MarketingScreen",data(){return{loading:null,websock:null,lockReconnect:!1,timeout:6e4,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null,topic:"marketing",rem:"",clockWidth:"",tableHeight:"",tableHeight1:"",tableHeight2:"",urgentNoticeHeight:"",urgentNoticeHeight2:"",clocks:[],members:[],notices:[],showsData:[],projectDescs:[],eols:[],overstocks:[],productStages:[],specialProjectsStages:[],monthOverstockType:1}},computed:{},watch:{},methods:{initWebSocket:function(){var t="wss://api.board.ifi-cloud.com/websocket/"+this.topic;this.websock=new WebSocket(t),this.websock.onopen=this.websocketOnOpen,this.websock.onerror=this.websocketOnError,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketOnOpen:function(){this.start()},websocketOnError:function(){this.initWebSocket()},websocketSend:function(t){this.websock.send(t)},websocketonmessage:function(t){this.reset(),"UPDATE_TEAM"==t.data&&this.getMembers(),"UPDATE_NOTICES"==t.data&&this.getNotices(),"UPDATE_PROJECT"==t.data&&this.getProjectDescs(),"UPDATE_STAGE"==t.data&&this.getProductStages(),t.data,t.data,"UPDATE_EOL"==t.data&&this.getEols(),"UPDATE_MONTH_OVERSTOCK"==t.data&&(this.getMonthOverstockType(),this.getOverstocks()),"UPDATE_CLOCK"==t.data&&this.getClocks()},websocketclose:function(){},reconnet(){var t=this;t.lockReconnect||(t.lockReconnect=!0,t.timeoutnum&&clearTimeout(t.timeoutnum),t.timeoutnum=setTimeout(()=>{t.initWebSocket(),t.lockReconnect=!1},5e3))},reset(){var t=this;clearTimeout(t.timeoutObj),clearTimeout(t.serverTimeoutObj),t.start()},start(){var t=this;t.timeoutObj&&clearTimeout(t.timeoutObj),t.serverTimeoutObj&&clearTimeout(t.serverTimeoutObj),t.timeoutObj=setTimeout(()=>{if(1===t.websock.readyState){const e={isHeart:!0,topic:this.topic,context:"心跳中"};t.websock.send(JSON.stringify(e))}else t.reconnet();t.serverTimeoutObj=setTimeout(()=>{t.websock.close()},t.timeout)},t.timeout)},getHeight(){const t=document.documentElement,e=t.clientWidth||document.body.clientWidth,n=t.clientHeight||document.body.clientHeight,r=Math.ceil(e/115);document.documentElement.style.fontSize=r+"px",this.rem=r+"px";const o=(e-15)/this.clocks.length+"px";this.clockWidth=o;const i=n-172-30-30;this.tableHeight=i+"px";const a=i/2-10;this.tableHeight1=a+30+"px",this.tableHeight2=a-20+"px",this.urgentNoticeHeight=i/2-45+"px",this.urgentNoticeHeight2=i/2-91+"px"},async initDefaultDemoData(){const{data:t}=await Object(k["c"])("false");200==t.code&&(this.specialProjectsStages=t.data)},async getClocks(){const{data:t}=await Object(m["h"])(2);200==t.code&&t.data.forEach(t=>{"Poland"!=t.clockArea&&this.clocks.push(t)})},async getNotices(){const{data:t}=await Object(b["b"])();200==t.code&&(this.notices=t.data)},async getShowsData(){const{data:t}=await Object(p["c"])();200==t.code&&(this.showsData=t.data)},async getProductStages(){const{data:t}=await Object(m["o"])();200==t.code&&(this.productStages=t.data)}},async created(){},async mounted(){document.title="Marketing Dashboard",await this.initWebSocket(),await this.getClocks(),await this.getNotices(),await this.getProductStages(),await this.getShowsData(),await this.initDefaultDemoData();const t=this;window.onresize=()=>(async()=>{await t.getHeight()})(),setTimeout(async()=>{await this.getHeight()},100)},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){this.websocketclose()},activated(){}},y=w,v=(n("700d"),Object(h["a"])(y,r,o,!1,null,"18a0f698",null));e["default"]=v.exports},ad4d:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"urgent-notice",style:{fontSize:t.rem}},[n("div",{staticClass:"third-item",style:"height:"+t.boxHeight},[n("div",{staticClass:"item-title",staticStyle:{"margin-top":"10px"},attrs:{id:"ticket-title"}},[t._v(" "+t._s(t.noticeTitle)+" ")]),n("el-carousel",{staticStyle:{width:"100%"},attrs:{interval:15e3,height:t.height}},t._l(t.notices,(function(e){return n("el-carousel-item",{key:e.gmtCreate},[n("div",{staticClass:"notice-content"},[0===e.memberId||null===e.memberId?n("div",{staticClass:"notice-left-item"},[n("el-avatar",{staticClass:"avatar",staticStyle:{width:"6rem",height:"6rem"},attrs:{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}),n("div",{staticClass:"name"},[t._v(t._s(e.publisher))])],1):n("div",{staticClass:"notice-left-item"},[n("el-avatar",{staticClass:"avatar",staticStyle:{width:"6rem",height:"6rem"},attrs:{src:t.base_api+e.avatar}}),n("div",{staticClass:"name"},[t._v(t._s(e.memberName))])],1),n("div",{staticClass:"notice-right-item"},[n("div",{staticClass:"notice-right-item-top"},[n("div",{staticClass:"notice-title"},[t._v(t._s(e.title))]),n("div",{staticClass:"notice-message",staticStyle:{"word-break":"keep-all"},style:{"font-size":t.rem}},[t._v(" "+t._s(e.message)+" ")])]),(t.noticeTitle,n("div",{staticClass:"notice-right-item-bot"},[t._v(" Published on: "+t._s(e.gmtCreate)+" ")]))])])])})),1)],1)])},o=[],i=n("93f2"),a={components:{},name:"index",props:{height:{type:String,default:"200"},noticeTitle:{type:String,default:""},weight:{type:String,default:"100px"},boxHeight:{type:String,default:"300px"},screenId:{type:Number,default:3},rem:{type:String,default:""},notices:{type:Array,default:function(){return[]}}},data(){return{data:[],base_api:"https://api.board.ifi-cloud.com"}},computed:{},watch:{rem:{handler:function(){document.documentElement.style.fontSize=this.rem,console.log("urgent notice module change document rem"+this.rem)},immediate:!0}},methods:{async getNotices(){const{data:t}=await Object(i["d"])(this.screenId);200==t.code&&(this.data=t.data)},getHeight(){const t=document.documentElement,e=t.clientWidth||document.body.clientWidth,n=(t.clientHeight||document.body.clientHeight,Math.ceil(e/115));document.documentElement.style.fontSize=n+"px",this.rem=n+"px"}},created(){},mounted(){this.getHeight(),this.getNotices()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},c=a,s=(n("8013"),n("2877")),l=Object(s["a"])(c,r,o,!1,null,"20da3062",null);e["a"]=l.exports},c048:function(t,e,n){},c4c8:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return s}));var r=n("751a"),o=n("4360");function i(t){return Object(r["a"])({url:"/info_screen/product/addProduct",method:"post",headers:{token:o["a"].getters.token},data:t})}function a(t){return Object(r["a"])({url:"/info_screen/product/updateProduct",method:"post",headers:{token:o["a"].getters.token},data:t})}function c(t){return Object(r["a"])({url:"/info_screen/product/deleteProduct?id="+t,method:"delete",headers:{token:o["a"].getters.token}})}function s(t){return Object(r["a"])({url:"/info_screen/product/getAllProduct?company="+t,method:"get",headers:{token:o["a"].getters.token}})}},cfd6:function(t,e,n){},e5b7:function(t,e,n){"use strict";n("c048")},efde:function(t,e,n){"use strict";n("cfd6")}}]);