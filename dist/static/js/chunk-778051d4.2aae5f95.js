(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-778051d4"],{"11d9":function(e,t,c){e.exports=c.p+"static/img/3.8f6a12bd.jpg"},"405a":function(e,t,c){e.exports=c.p+"static/img/2.8f6a12bd.jpg"},"4d0f":function(e,t,c){e.exports=c.p+"static/img/5.8f6a12bd.jpg"},"534f":function(e,t,c){e.exports=c.p+"static/img/logo1.0e863b8e.png"},"59ce":function(e,t,c){"use strict";c.d(t,"e",(function(){return i})),c.d(t,"l",(function(){return a})),c.d(t,"f",(function(){return d})),c.d(t,"i",(function(){return o})),c.d(t,"m",(function(){return r})),c.d(t,"g",(function(){return l})),c.d(t,"a",(function(){return u})),c.d(t,"c",(function(){return h})),c.d(t,"j",(function(){return k})),c.d(t,"d",(function(){return f})),c.d(t,"b",(function(){return b})),c.d(t,"k",(function(){return g})),c.d(t,"h",(function(){return m}));var n=c("751a"),s=c("4360");function i(){return Object(n["a"])({url:"/ifi/vote/getUUID",method:"get"})}function a(e,t,c){return Object(n["a"])({url:"/ifi/vote/set/"+e+"/"+t+"/"+c,method:"get"})}function d(){return Object(n["a"])({url:"/ifi/vote/get",method:"get"})}function o(e){return Object(n["a"])({url:"/ifi/vote/reset",method:"get",data:e})}function r(e){return Object(n["a"])({url:"/ifi/vote/add",method:"post",data:e})}function l(){return Object(n["a"])({url:"/ifi/vote/result",method:"get"})}function u(e){return console.log(e),Object(n["a"])({url:"/info_screen/ticket/add",method:"post",data:e,headers:{token:s["a"].getters.token}})}function h(e){return Object(n["a"])({url:"/info_screen/ticket/delete/"+e,method:"delete",headers:{token:s["a"].getters.token}})}function k(e){return Object(n["a"])({url:"/info_screen/ticket/resolve",method:"post",data:e,headers:{token:s["a"].getters.token}})}function f(){return Object(n["a"])({url:"/info_screen/ticket/products",method:"get",headers:{token:s["a"].getters.token}})}function b(e){return Object(n["a"])({url:"/info_screen/ticket/adds",method:"post",data:e,headers:{token:s["a"].getters.token}})}function g(e){return Object(n["a"])({url:"/info_screen/ticket/list/paged",method:"post",data:e,headers:{token:s["a"].getters.token}})}function m(e,t,c,i){return Object(n["a"])({url:"/info_screen/ticket/sum/"+e+"/"+t+"/"+c+"/"+i,method:"get",headers:{token:s["a"].getters.token}})}},8554:function(e,t,c){e.exports=c.p+"static/img/1.8f6a12bd.jpg"},"8f60":function(e,t,c){"use strict";c.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",style:e.height},[e._m(0),n("div",{staticClass:"ticket-bottom"},[n("div",{staticStyle:{width:"93%","border-radius":"2px","padding-top":"20px"}},[n("div",{staticClass:"ticket-box"},[n("div",{staticClass:"ticket-content"},[n("div",{staticClass:"ticket-item"},[n("img",{attrs:{src:c("8554"),alt:""},on:{click:function(t){return e.changeOne(1)}}}),n("el-checkbox",{attrs:{disabled:e.checkeds[0].disabled},on:{change:function(t){return e.handleCheckAllChange(1)}},model:{value:e.checkeds[0].checked,callback:function(t){e.$set(e.checkeds[0],"checked",t)},expression:"checkeds[0].checked"}},[e._v("时尚芭莎夜 ："+e._s(e.recode[0])+"票")])],1),n("div",{staticClass:"ticket-item"},[n("img",{attrs:{src:c("405a"),alt:""},on:{click:function(t){return e.changeOne(2)}}}),n("el-checkbox",{attrs:{disabled:e.checkeds[1].disabled},on:{change:function(t){return e.handleCheckAllChange(2)}},model:{value:e.checkeds[1].checked,callback:function(t){e.$set(e.checkeds[1],"checked",t)},expression:"checkeds[1].checked"}},[e._v("春茗·凯韵 ："+e._s(e.recode[1])+"票")])],1),n("div",{staticClass:"ticket-item"},[n("img",{attrs:{src:c("11d9"),alt:""},on:{click:function(t){return e.changeOne(3)}}}),n("el-checkbox",{attrs:{disabled:e.checkeds[2].disabled},on:{change:function(t){return e.handleCheckAllChange(3)}},model:{value:e.checkeds[2].checked,callback:function(t){e.$set(e.checkeds[2],"checked",t)},expression:"checkeds[2].checked"}},[e._v("十年 ："+e._s(e.recode[2])+"票")])],1),n("div",{staticClass:"ticket-item"},[n("img",{attrs:{src:c("bafb"),alt:""},on:{click:function(t){return e.changeOne(4)}}}),n("el-checkbox",{attrs:{disabled:e.checkeds[3].disabled},on:{change:function(t){return e.handleCheckAllChange(4)}},model:{value:e.checkeds[3].checked,callback:function(t){e.$set(e.checkeds[3],"checked",t)},expression:"checkeds[3].checked"}},[e._v("白蛇传 ："+e._s(e.recode[3])+"票")])],1),n("div",{staticClass:"ticket-item"},[n("img",{attrs:{src:c("4d0f"),alt:""},on:{click:function(t){return e.changeOne(5)}}}),n("el-checkbox",{attrs:{disabled:e.checkeds[4].disabled},on:{change:function(t){return e.handleCheckAllChange(5)}},model:{value:e.checkeds[4].checked,callback:function(t){e.$set(e.checkeds[4],"checked",t)},expression:"checkeds[4].checked"}},[e._v("野狼Disco ："+e._s(e.recode[4])+"票")])],1)]),n("div",{staticClass:"bottom-button"},[n("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.confirmResult}},[e._v("立即提交")])],1),e.choices?n("div",{staticStyle:{color:"white","margin-top":"13px"}},[e._v("当前选择的是"+e._s(e.choices)+" ")]):e._e(),e.choices?n("div",{staticClass:"bottom-button"},[n("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.toTick}},[e._v("前往投票")])],1):e._e()])])])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-box"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:c("534f"),alt:""}})]),n("div",{staticClass:"title"},[e._v("选择哪几队评选")])])}],i=(c("14d9"),c("13d5"),c("59ce")),a={name:"TicketChoice",data(){return{active:1,disabled:!1,checkeds:[{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1},{checked:!1,disabled:!1}],count:0,height:0,a:0,b:0,c:0,choices:"",firstLabel:["时尚芭莎夜","春茗·凯韵","十年","白蛇传","野狼Disco"],recode:[]}},created(){document.title="春茗节目投票",this.height="height:"+window.innerHeight+"px",this.getResult()},methods:{getPlace(e){let t=e.reduce((e,t)=>e<t?t:e);console.log("score",e),console.log("min",e.indexOf(t))},async getResult(){let{data:e}=await Object(i["g"])();if(200==e.code){let t=[];t[0]=e.data.result1,t[1]=e.data.result2,t[2]=e.data.result3,t[3]=e.data.result4,t[4]=e.data.result5,this.recode=t,this.getPlace(t)}},async toTick(){var e=this;await Object(i["i"])().then(t=>{200==t.data.code&&(e.c>0?e.$router.push({path:"/info_screen/screen/ticket_result3"}):e.b>0&&e.$router.push({path:"/info_screen/screen/ticket_result2"})),console.log("res",t.data.code)})},changeOne(e){this.checkeds[e-1].checked=!this.checkeds[e-1].checked},handleCheckAllChange(){},confirmResult(){var e=this;let t=0;e.a=0,e.b=0,e.c=0;for(let c=0;c<5;c++)if(e.checkeds[c].checked)if(0==t)e.a=c+1,t++;else{if(1!=t){e.c=c+1,t++;break}e.b=c+1,t++}Object(i["l"])(e.a,e.b,e.c).then(t=>{200==t.data.code&&(e.choices=e.c?e.a+"-"+e.firstLabel[e.a-1]+", "+e.b+"-"+e.firstLabel[e.b-1]+", "+e.c+"-"+e.firstLabel[e.c-1]:e.a+"-"+e.firstLabel[e.a-1]+", "+e.b+"-"+e.firstLabel[e.b-1],this.$message({type:"success",message:"选择成功！"}))})}}},d=a,o=(c("f422"),c("2877")),r=Object(o["a"])(d,n,s,!1,null,"645b73f0",null);t["default"]=r.exports},babc:function(e,t,c){},bafb:function(e,t,c){e.exports=c.p+"static/img/4.8f6a12bd.jpg"},f422:function(e,t,c){"use strict";c("babc")}}]);