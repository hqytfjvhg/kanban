(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-616ae944"],{"3e54":function(e,t,a){"use strict";a("9cc8")},"5e11":function(e,t,a){"use strict";a("7d7e")},"7d7e":function(e,t,a){},"9cc8":function(e,t,a){},e453:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"excelTemplates"},[a("pageHeader",{attrs:{title:e.$t("excelTemplate.pageTitle"),describe:e.$t("excelTemplate.pageDesc")}}),a("el-table",{staticStyle:{margin:"0 auto",width:"100%"},attrs:{data:e.excelTemplates,border:!0,stripe:""}},[a("el-table-column",{attrs:{label:e.$t("excelTemplate.index"),type:"index",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"tag",label:e.$t("excelTemplate.tag"),width:"400",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:e.$t("excelTemplate.name"),width:"400",align:"center"}}),a("el-table-column",{attrs:{prop:"url",label:e.$t("excelTemplate.uploadExcel"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.url?a("div",[a("el-upload",{attrs:{action:e.base_api+"/info_screen/excel/template/upload",multiple:"",limit:1,"on-success":e.handleSuccess,headers:e.headers,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return e.upload(t.row)}}},[e._v(e._s(e.$t("excelTemplate.upload")))])],1)],1):a("div",[a("el-upload",{attrs:{action:e.base_api+"/info_screen/excel/template/upload",multiple:"",limit:1,"on-success":e.handleSuccess,headers:e.headers,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(a){return e.upload(t.row)}}},[e._v(e._s(e.$t("excelTemplate.reupload")))])],1)],1)]}}])}),a("el-table-column",{attrs:{label:e.$t("excelTemplate.operation"),align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!==t.row.url?a("div",[a("a",{staticStyle:{color:"#409eff","text-decoration":"none"},attrs:{href:e.base_api+"/"+t.row.url}},[e._v(e._s(e.$t("excelTemplate.downloadTemplate")))])]):a("div",[e._v(e._s(e.$t("excelTemplate.uploadTips")))])]}}])})],1)],1)},n=[],o=a("4360"),s=a("751a");function c(){return Object(s["a"])({url:"/info_screen/excel/template/list",method:"get",headers:{token:o["a"].getters.token}})}function i(e){return Object(s["a"])({url:"/info_screen/excel/template/update",method:"post",data:e,headers:{token:o["a"].getters.token}})}var r=a("e965"),p={components:{pageHeader:r["a"]},name:"excel-template",data(){return{excelTemplates:[],base_api:"https://api.board.ifi-cloud.com",headers:{token:o["a"].getters.token},excelTemplate:{}}},computed:{},watch:{},methods:{async handleSuccess(e){if(console.log(e.data),console.log(this.excelTemplate),200==e.code){this.excelTemplate.url=e.data;const{data:t}=await i(this.excelTemplate);200==t.code&&this.$message({type:"success",message:"upload successfully."})}},upload(e){this.excelTemplate=e},beforeUpload(e){console.log(e.name);const t=e.name,a=this.excelTemplate.tag+".xlsx";if(t!==a)return this.$confirm("请上传与标签名一致的excel文件",this.$t("eol.tips"),{confirmButtonText:this.$t("eol.confirm"),cancelButtonText:this.$t("eol.cancel"),type:"warning"}),!1},async getExcelTemplates(){const{data:e}=await c();this.excelTemplates=e.data}},created(){},mounted(){this.getExcelTemplates()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},d=p,u=(a("5e11"),a("2877")),m=Object(u["a"])(d,l,n,!1,null,"5f5a9f4e",null);t["default"]=m.exports},e965:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{background:"#fff",height:"100px",padding:"10px 0"}},[a("div",{staticClass:"title",staticStyle:{"font-size":"30px",padding:"10px"}},[e._v(e._s(e.title))]),a("div",{staticClass:"content",staticStyle:{"font-size":"15px",padding:"10px",color:"#888"}},[e._v(e._s(e.describe)+" ")])])},n=[],o={components:{},name:"pageHeader",props:{title:{type:String,default:null},describe:{type:String,default:null}},data(){return{}},computed:{},watch:{},methods:{},created(){},mounted(){},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},s=o,c=(a("3e54"),a("2877")),i=Object(c["a"])(s,l,n,!1,null,"32773f74",null);t["a"]=i.exports}}]);