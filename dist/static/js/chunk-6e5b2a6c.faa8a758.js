(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e5b2a6c"],{"3f07":function(t,e,a){"use strict";a("4e38")},4241:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));const n="US$m"},"4e38":function(t,e,a){},6711:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"w",(function(){return r})),a.d(e,"y",(function(){return s})),a.d(e,"v",(function(){return o})),a.d(e,"z",(function(){return c})),a.d(e,"d",(function(){return h})),a.d(e,"e",(function(){return u})),a.d(e,"x",(function(){return d})),a.d(e,"c",(function(){return l})),a.d(e,"b",(function(){return f})),a.d(e,"h",(function(){return p})),a.d(e,"k",(function(){return m})),a.d(e,"g",(function(){return b})),a.d(e,"m",(function(){return g})),a.d(e,"p",(function(){return y})),a.d(e,"t",(function(){return O})),a.d(e,"q",(function(){return x})),a.d(e,"j",(function(){return w})),a.d(e,"s",(function(){return v})),a.d(e,"n",(function(){return C})),a.d(e,"o",(function(){return _})),a.d(e,"i",(function(){return j})),a.d(e,"u",(function(){return S})),a.d(e,"f",(function(){return $})),a.d(e,"A",(function(){return H})),a.d(e,"r",(function(){return L})),a.d(e,"C",(function(){return A})),a.d(e,"l",(function(){return W})),a.d(e,"B",(function(){return F}));var n=a("751a");function i(){return Object(n["a"])({url:"/info_screen/board/finance/all",method:"get"})}function r(t){return Object(n["a"])({url:"/info_screen/board/finance/outcomes/"+t,method:"get"})}function s(t){return Object(n["a"])({url:"/info_screen/board/finance/saleMonth/"+t,method:"get"})}function o(t){return Object(n["a"])({url:"/info_screen/board/finance/incomes/"+t,method:"get"})}function c(){return Object(n["a"])({url:"/info_screen/board/finance/sale/rate",method:"get"})}function h(t){return Object(n["a"])({url:"/info_screen/board/dept/all/"+t,method:"get"})}function u(t){return Object(n["a"])({url:"/info_screen/board/dept/month/"+t,method:"get"})}function d(t){return Object(n["a"])({url:"/info_screen/board/purchase/"+t,method:"get"})}function l(t){return Object(n["a"])({url:"/info_screen/board/cash/"+t,method:"get"})}function f(t){return Object(n["a"])({url:"/info_screen/board/balance/"+t,method:"get"})}function p(t){return Object(n["a"])({url:"/info_screen/board/clock/"+t,method:"get"})}function m(t){return Object(n["a"])({url:"/info_screen/board/member/"+t,method:"get"})}function b(t){return Object(n["a"])({url:"/info_screen/board/award/true/"+t,method:"get"})}function g(t){return Object(n["a"])({url:"/info_screen/board/unexpired/notices/"+t,method:"get"})}function y(){return Object(n["a"])({url:"/info_screen/board/productTesting/list",method:"get"})}function O(){return Object(n["a"])({url:"/info_screen/board/software/list",method:"get"})}function x(){return Object(n["a"])({url:"/info_screen/board/project/list",method:"get"})}function w(){return Object(n["a"])({url:"/info_screen/board/eol/list",method:"get"})}function v(){return Object(n["a"])({url:"/info_screen/board/return/list",method:"get"})}function C(){return Object(n["a"])({url:"/info_screen/board/monthOverstock/list",method:"get"})}function _(){return Object(n["a"])({url:"/info_screen/board/productStage/list",method:"get"})}function j(){return Object(n["a"])({url:"/info_screen/board/complaint/list",method:"get"})}function S(){return Object(n["a"])({url:"/info_screen/board/complaintUnsolved/list",method:"get"})}function $(){return Object(n["a"])({url:"/info_screen/board/avgDays",method:"get"})}function H(t){return Object(n["a"])({url:"/info_screen/board/avgDays/"+t,method:"get"})}function L(){return Object(n["a"])({url:"/info_screen/board/returnDays",method:"get"})}function A(t){return Object(n["a"])({url:"/info_screen/board/returnDays/"+t,method:"get"})}function W(){return Object(n["a"])({url:"/info_screen/board/monthOverstock/type",method:"get"})}function F(t){return Object(n["a"])({url:"/info_screen/board/monthOverstock/type/"+t,method:"get"})}},e56e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"money-container",attrs:{id:"money-container"}},[a("ChangeLan",{staticClass:"change-lan"}),a("div",{staticClass:"first-row",style:"height:"+this.firstHeight+"px;"},[a("div",{staticClass:"balance top-left-parent"},[a("div",{staticClass:"top-left-text"},[t._v(t._s(t.topLeftCornerOfTheFinancialBoard_))]),a("div",{style:"height:"+this.balanceHeight+"px;width:"+(this.balanceWidth-30)+"px;",attrs:{id:"balance-chart"}})]),a("div",{staticClass:"cash-flow top-left-parent"},[a("div",{staticClass:"top-left-text"},[t._v(t._s(t.topLeftCornerOfTheFinancialBoard_))]),a("div",{style:"height:"+this.cashHeight+"px;width:"+(this.cashWidth-30)+"px;",attrs:{id:"cash-chart"}})])]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"purchase top-left-parent"},[a("div",{staticClass:"top-left-text"},[t._v(t._s(t.topLeftCornerOfTheFinancialBoard_))]),a("div",{style:"height:"+this.purchaseHeight+"px;width:"+(this.purchaseWidth-30)+"px;",attrs:{id:"purchase-chart"}})])])],1)},i=[],r=(a("14d9"),a("4241")),s=a("6711"),o=a("f1c9"),c={components:{ChangeLan:o["a"]},name:"money-screen",data(){return{topLeftCornerOfTheFinancialBoard_:r["a"],balanceChart:null,cashChart:null,purchaseChart:null,firstHeight:0,secondHeight:0,balanceHeight:0,balanceWidth:0,cashHeight:0,cashWidth:0,purchaseHeight:0,purchaseWidth:0,balanceOptions:{title:{text:"周末余额:[1665488]",subtext:"",left:"center",textStyle:{fontSize:25,color:"#eee"},subtextStyle:{fontSize:20,color:"#eee"}},tooltip:{trigger:"item",valueFormatter:function(t){return" $"+t}},legend:{show:!1,left:"left",bottom:"5%",itemWidth:24,itemHeight:14,itemGap:5,textStyle:{color:"#fff",fontWeight:"400",fontFamily:"Source Han Sans CN",fontSize:12}},series:[{name:"周末余额",type:"pie",radius:"50%",data:[{value:261928,name:"境内账户"},{value:567856,name:"香港账户"},{value:734409,name:"海外账户"},{value:91294,name:"私人账户"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{show:!0,position:"outside",textStyle:{},width:200,overflow:"break",distanceToLabelLine:10,formatter:"  {b|{b}}  {c|${c}} ",rich:{c:{fontSize:27,fontWeight:300,color:"pink"},b:{fontSize:18,fontWeight:300,color:"pink"}}}}}]},cashOptions:{title:{text:"现金流状况图",left:"center",textStyle:{fontSize:25,color:"#eee"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"15%",left:"2%",right:"2%",bottom:"7%",containLabel:!0},toolbox:{right:"3%",feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}},iconStyle:{borderColor:"#7fffd4"}},legend:{top:"8%",right:"8%",itemWidth:24,itemHeight:14,itemGap:5,textStyle:{color:"#fff",fontWeight:"400",fontFamily:"Source Han Sans CN",fontSize:12}},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"",min:-227,max:1251,splitNumber:4,axisLabel:{formatter:function(t){var e=[];return t>=1e4?e.push(Math.floor(t/1e3)):e.push(t),e}},splitLine:{show:!0,lineStyle:{color:"rgba(238,238,238,0.5)",type:"dashed"}}}],series:[{name:"现金流入",type:"bar",color:"#3ba272",tooltip:{valueFormatter:function(t){return"$ "+t}},data:[1251,573,1251,573,1251,573,1251,573,1251,573,1251,573]},{name:"现金流出",type:"bar",color:"#ea8a8a",tooltip:{valueFormatter:function(t){return"$ "+t}},data:[895,800,895,108,895,600,895,108,895,600,895,500]},{name:"净流量",type:"line",color:"#ea7ccc",tooltip:{valueFormatter:function(t){return"$ "+t}},data:[365,-227,356,465,356,-27,356,465,356,-27,356,73]}]},purchaseOptions:{title:{text:"采购月度趋势图",left:"center",textStyle:{fontSize:25,color:"#eee"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:"15%",left:"2%",right:"2%",bottom:"7%",containLabel:!0},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}},iconStyle:{borderColor:"#7fffd4"}},legend:{data:["采购支出","采购预算"],top:"8%",right:"5%",itemWidth:24,itemHeight:14,itemGap:5,textStyle:{color:"#fff",fontWeight:"400",fontFamily:"Source Han Sans CN",fontSize:12}},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"",min:0,splitNumber:4,axisLabel:{formatter:function(t){var e=[];return t>=1e4?e.push(Math.floor(t/1e3)):e.push(t),e}},splitLine:{show:!0,lineStyle:{color:"rgba(238,238,238,0.5)",type:"dashed"}}}],series:[{name:"采购支出",type:"bar",color:"#fac858",tooltip:{valueFormatter:function(t){return"$ "+t}},data:[1251,573,1251,573,1251,573,1251,573,1251,573,1251,573]},{name:"采购预算",type:"bar",color:"#73c0de",tooltip:{valueFormatter:function(t){return"$ "+t}},data:[895,800,895,108,895,600,895,108,895,600,895,500]}]}}},computed:{},watch:{"$i18n.locale":{handler(){console.info("语言变化"),this.getBalance().then(()=>{this.getPurchase().then(()=>{this.getCash().then(()=>{this.destroyAllCharts(),this.drawLine()})})})},immediate:!0,deep:!0}},methods:{async Loading(){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},async getHeight(){var t=document.getElementById("money-container"),e=t.clientWidth;this.rem=Math.ceil(e/115),document.documentElement.style.fontSize=this.rem+"px";let a=window.innerHeight;this.firstHeight=Math.ceil(.5*a),this.secondHeight=Math.ceil(.5*a),this.balanceHeight=Math.round(.5*a),this.balanceWidth=Math.round(.4*e),this.cashHeight=Math.round(.5*a),this.cashWidth=Math.round(.6*e),this.purchaseHeight=Math.round(.5*a),this.purchaseWidth=e,this.loading.close()},async drawLine(){this.balanceChart=this.$echarts.init(document.getElementById("balance-chart")),this.cashChart=this.$echarts.init(document.getElementById("cash-chart")),this.purchaseChart=this.$echarts.init(document.getElementById("purchase-chart")),this.purchaseOptions.title.text=this.$t("money.purchasingMonthlyTrend");const t=[];t[0]=this.$t("money.actualPurchase"),t[1]=this.$t("money.forecastPurchase"),this.purchaseOptions.legend.data=t,this.purchaseOptions.series[0].name=this.$t("money.actualPurchase"),this.purchaseOptions.series[1].name=this.$t("money.forecastPurchase"),this.cashOptions.title.text=this.$t("money.cashFlow"),this.balanceChart.setOption(this.balanceOptions),this.cashChart.setOption(this.cashOptions);try{this.purchaseOptions.yAxis[0].max=(this.purchaseOptions.yAxis[0].max+.1*this.purchaseOptions.yAxis[0].max).toFixed(1)}catch(e){console.info()}this.purchaseChart.setOption(this.purchaseOptions)},async destroyAllCharts(){console.info("调用销毁全部"),this.balanceChart.dispose(),this.cashChart.dispose(),this.purchaseChart.dispose()},async getPurchase(){const{data:t}=await Object(s["x"])(this.$i18n.locale);if(200==t.code){this.purchaseOptions.legend.data=t.data.legendData,this.purchaseOptions.series[0].name=t.data.series[0].name,this.purchaseOptions.series[0].data=t.data.series[0].data,this.purchaseOptions.series[1].name=t.data.series[1].name,this.purchaseOptions.series[1].data=t.data.series[1].data,this.purchaseOptions.xAxis[0].data=t.data.xData,this.purchaseOptions.yAxis[0].min=t.data.minValue,this.purchaseOptions.yAxis[0].max=t.data.maxValue;let e=[];t.data.series[0].data.forEach(t=>{0===t&&(t=null),e.push(t)}),this.purchaseOptions.series[0].data=e;let a=[];t.data.series[1].data.forEach(t=>{0===t&&(t=null),a.push(t)}),this.purchaseOptions.series[1].data=a}},async getCash(){const{data:t}=await Object(s["c"])(this.$i18n.locale);if(200==t.code){this.cashOptions.legend.data=t.data.legendData,this.cashOptions.series[0].name=t.data.series[0].name,this.cashOptions.series[1].name=t.data.series[1].name,this.cashOptions.series[1].data=t.data.series[1].data,this.cashOptions.series[2].name=t.data.series[2].name,this.cashOptions.series[2].data=t.data.series[2].data,this.cashOptions.xAxis[0].data=t.data.xData,this.cashOptions.yAxis[0].min=t.data.minValue,this.cashOptions.yAxis[0].max=t.data.maxValue;let e=[];t.data.series[0].data.forEach(t=>{0===t&&(t=null),e.push(t)}),this.cashOptions.series[0].data=e;let a=[];t.data.series[1].data.forEach(t=>{0===t&&(t=null),a.push(t)}),this.cashOptions.series[1].data=a;let n=[];t.data.series[2].data.forEach(t=>{0===t&&(t=null),n.push(t)}),this.cashOptions.series[2].data=n}},async getBalance(){const{data:t}=await Object(s["b"])(this.$i18n.locale);if(200==t.code){this.balanceOptions.series[0].data=t.data.list;const e=t.data.total;this.balanceOptions.title.text=this.$t("money.weekendBalance")+":[$"+e+"]"}}},async created(){},async mounted(){this.Loading(),await this.getHeight(),document.title="Cash Flow Dashboard";const t=this;window.onresize=()=>(async()=>{await t.destroyAllCharts(),await t.getHeight(),await t.drawLine()})()},beforeCreate(){},beforeMount(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},activated(){}},h=c,u=(a("3f07"),a("2877")),d=Object(u["a"])(h,n,i,!1,null,"0b26a281",null);e["default"]=d.exports}}]);