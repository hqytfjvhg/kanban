(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4625a78c"],{1261:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"a",(function(){return d})),a.d(e,"e",(function(){return l})),a.d(e,"g",(function(){return u})),a.d(e,"b",(function(){return f}));var i=a("cee4");console.log("https://api.board.ifi-cloud.com","地址");const n=i["a"].create({baseURL:"https://api.board.ifi-cloud.com/vote",timeout:1e4});n.interceptors.request.use(t=>t,t=>Promise.reject(t)),n.interceptors.response.use(t=>{const e=t.data;return e},t=>Promise.reject(t));var o=n;function s(){return o({url:"/getVotingScore",method:"get"})}function r(){return o({url:"/reset",method:"get"})}function c(t){return o({url:"/setTeamId",method:"post",data:t})}function d(){return o({url:"/getStoId",method:"get"})}function l(t){return o({url:"/setState",method:"post",data:t})}function u(t){return o({url:"/voting",method:"post",data:t})}function f(){return o({url:"/getTeamId",method:"get"})}},"93f29":function(t,e,a){},"9fc9":function(t,e,a){t.exports=a.p+"static/img/actLogo.4fc9d083.png"},cd3a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"switch",on:{click:t.toSetState}},[i("el-switch",{attrs:{disabled:"","active-color":"#409EFF","inactive-color":"#888"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),i("li",{staticClass:"el-icon-picture-outline",on:{click:t.bigImg}}),i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("9fc9")},on:{click:t.toElse}}),i("div",{staticClass:"title",on:{click:t.resetTeamId}},[t._v("2024春茗节目投票")])]),i("div",{staticClass:"echart-box"},[i("div",{staticStyle:{margin:"2rem 0 0 1rem"},style:{width:"90%",height:"86vh"},attrs:{id:"myChart"}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.qrCodeShow,expression:"qrCodeShow"}],staticClass:"canvas",on:{click:t.closeQrcImg}},[i("canvas",{attrs:{id:"canvas"}})])])},n=[],o=(a("14d9"),a("1261")),s=a("d055"),r=a.n(s),c={data(){return{options:{xAxis:{max:"dataMax",show:!1},yAxis:{type:"category",data:["不再犹豫","手扶拖拉机\n斯基很酷","我爱上班","群英荟萃",""],inverse:!0,axisLine:{show:!1},axisTick:{show:!1},animationDuration:300,animationDurationUpdate:300,max:3,axisLabel:{inside:!1,textStyle:{fontSize:"50",color:"#ffffff",fontWeight:"bold"},margin:20}},color:["#f6cb91","#ff0000","#f6cb91","#ff0000","#8e84b8"],textStyle:{fontSize:18},grid:{left:"18% "},series:[{realtimeSort:!0,name:"",type:"bar",barWidth:100,data:[0,0,0,0],label:{show:!0,position:"right",valueAnimation:!0,color:"#ffffff",fontSize:80,distance:25,offset:[0,10]},itemStyle:{normal:{color:function(t){let e=["#FF7F00 ","#ffff00","#66CCFF","#99cc33","#8e84b8"];return e[t.dataIndex]}}}}],animationDuration:0,animationDurationUpdate:2e3,animationEasing:"linear",animationEasingUpdate:"linear"},qrCodeShow:!1,data:[],firstLabel:["不再犹豫","手扶拖拉机斯基很酷","我爱上班","群英荟萃",""],Interval:null,state:!1,canEditState:!0}},methods:{resetTeamId(){let t=this,e=[0,0,0,0];setTeamId(e).then(a=>{200==a.code&&(this.$message({type:"success",message:"选择成功！"}),t.choices=choices,t.teams=e)})},toSetState(){let t=this;if(!this.canEditState)return;if(this.canEditState=!1,setTimeout(()=>{this.canEditState=!0},2e3),t.state)return void Object(o["d"])().then(e=>{t.state=e.data.state});let e={state:!0};Object(o["e"])(e).then(e=>{t.state=e.data.state})},qrCode(){var t=document.getElementById("canvas");r.a.toCanvas(t,window.location.origin+"/#/act/votedv2/index",{margin:2,height:200,width:500},(function(t){t?console.error(t):console.log("success!")}))},bigImg(){this.qrCodeShow=!0,this.qrCode()},closeQrcImg(){this.qrCodeShow=!1},toElse(){clearTimeout(this.Interval),this.Interval=null,this.$router.push({path:"/act/votedv2/choice"})},drawLine(){var t=this;let e=t.$echarts.init(document.getElementById("myChart"));function a(){t.getResult().then(a=>{t.options.series[0].data=a,e.setOption({series:[{type:"bar",barWidth:"90vh",data:t.options.series[0].data}]})})}a(),this.Interval=setInterval((function(){a()}),1e3),e.setOption(t.options)},async getResult(){let t=await Object(o["c"])();if(200==t.code){let e=t.data,a=[];return a[0]=e[1],a[1]=e[2],a[2]=e[3],a[3]=e[4],a[4]=e[5],this.state=e["state"],this.data=a,a}}},mounted(){document.title="春茗节目投票",this.drawLine(),this.getResult()}},d=c,l=(a("f4a1"),a("2877")),u=Object(l["a"])(d,i,n,!1,null,"bb89395a",null);e["default"]=u.exports},f4a1:function(t,e,a){"use strict";a("93f29")}}]);